import{a1 as X,al as me,a8 as Z,ab as Te,r as U,aI as F,am as z,Y as k,ac as Me,aJ as Oe,w as B,aH as ae,aK as $e,af as ee,b as o,F as D,q as I,$ as ne,aL as Ee,aF as Le,t as Ne,aM as Ue,aN as Be,aO as ue,aP as oe,aQ as Ke,o as se,c as ze,m as K,f as Ge,y as He,aR as qe,h as je,e as Je,z as Qe,aS as ie,aT as re,x as We,a2 as ce,an as Ye,aU as Xe}from"./index-DPEARWyz.js";import{m as Ze,u as el,a as de,V as pe,b as ll,c as ve}from"./VTextField-euNnZfEI.js";import{m as tl,u as al,V as nl,a as ul,b as ol,c as Y,d as sl,e as il}from"./VSelect-CBQXVdf1.js";import{m as rl,u as cl}from"./filter-CCjRknBQ.js";import{f as dl}from"./forwardRefs-DWGaNmQL.js";import{u as vl,V as fl,a as fe}from"./VList-bbfuGvOt.js";import{m as ml}from"./VImg-B5j7I_AE.js";import{V as pl}from"./VMenu-CLGsvIgf.js";import{V as Vl}from"./VAvatar-BH_YnDZc.js";import{V as hl}from"./VChip-D585xh2w.js";function gl(e,m,t){if(m==null)return e;if(Array.isArray(m))throw new Error("Multiple matches is not implemented");return typeof m=="number"&&~m?o(D,null,[o("span",{class:"v-autocomplete__unmask"},[e.substr(0,m)]),o("span",{class:"v-autocomplete__mask"},[e.substr(m,t)]),o("span",{class:"v-autocomplete__unmask"},[e.substr(m+t)])]):e}const yl=X({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...rl({filterKeys:["title"]}),...tl(),...me(Ze({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ml({transition:!1})},"VAutocomplete"),bl=Z()({name:"VAutocomplete",props:yl(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,m){let{slots:t}=m;const{t:p}=Te(),f=U(),g=F(!1),V=F(!0),S=F(!1),T=U(),A=U(),x=z(e,"menu"),i=k({get:()=>x.value,set:l=>{var a;x.value&&!l&&((a=T.value)!=null&&a.Î¨openChildren.size)||(x.value=l)}}),s=F(-1),R=k(()=>{var l;return(l=f.value)==null?void 0:l.color}),M=k(()=>i.value?e.closeText:e.openText),{items:O,transformIn:G,transformOut:H}=vl(e),{textColorClasses:Ve,textColorStyles:he}=Me(R),d=z(e,"search",""),u=z(e,"modelValue",[],l=>G(l===null?[null]:Oe(l)),l=>{const a=H(l);return e.multiple?a:a[0]??null}),ge=k(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:u.value.length),$=el(e),{filteredItems:q,getMatches:ye}=cl(e,O,()=>V.value?"":d.value),C=k(()=>e.hideSelected?q.value.filter(l=>!u.value.some(a=>a.value===l.value)):q.value),E=k(()=>!!(e.chips||t.chip)),_=k(()=>E.value||!!t.selection),be=k(()=>u.value.map(l=>l.props.value)),j=k(()=>{var a;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&d.value===((a=C.value[0])==null?void 0:a.title))&&C.value.length>0&&!V.value&&!S.value}),J=k(()=>e.hideNoData&&!C.value.length||$.isReadonly.value||$.isDisabled.value),Q=U(),ke=al(Q,f);function Ce(l){e.openOnClear&&(i.value=!0),d.value=""}function Ie(){J.value||(i.value=!0)}function Se(l){J.value||(g.value&&(l.preventDefault(),l.stopPropagation()),i.value=!i.value)}function Pe(l){var a;Be(l)&&((a=f.value)==null||a.focus())}function we(l){var n,r,y;if($.isReadonly.value)return;const a=f.value.selectionStart,c=u.value.length;if((s.value>-1||["Enter","ArrowDown","ArrowUp"].includes(l.key))&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(i.value=!0),["Escape"].includes(l.key)&&(i.value=!1),j.value&&["Enter","Tab"].includes(l.key)&&!u.value.some(v=>{let{value:h}=v;return h===C.value[0].value})&&P(C.value[0]),l.key==="ArrowDown"&&j.value&&((n=Q.value)==null||n.focus("next")),["Backspace","Delete"].includes(l.key)){if(!e.multiple&&_.value&&u.value.length>0&&!d.value)return P(u.value[0],!1);if(~s.value){const v=s.value;P(u.value[s.value],!1),s.value=v>=c-1?c-2:v}else l.key==="Backspace"&&!d.value&&(s.value=c-1)}if(e.multiple){if(l.key==="ArrowLeft"){if(s.value<0&&a>0)return;const v=s.value>-1?s.value-1:c-1;u.value[v]?s.value=v:(s.value=-1,f.value.setSelectionRange((r=d.value)==null?void 0:r.length,(y=d.value)==null?void 0:y.length))}if(l.key==="ArrowRight"){if(s.value<0)return;const v=s.value+1;u.value[v]?s.value=v:(s.value=-1,f.value.setSelectionRange(0,0))}}}function Ae(l){if(ue(f.value,":autofill")||ue(f.value,":-webkit-autofill")){const a=O.value.find(c=>c.title===l.target.value);a&&P(a)}}function xe(){var l;e.eager&&((l=A.value)==null||l.calculateVisibleItems())}function Re(){var l;g.value&&(V.value=!0,(l=f.value)==null||l.focus())}function _e(l){g.value=!0,setTimeout(()=>{S.value=!0})}function Fe(l){S.value=!1}function De(l){(l==null||l===""&&!e.multiple&&!_.value)&&(u.value=[])}const W=F(!1);function P(l){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!l||l.props.disabled))if(e.multiple){const c=u.value.findIndex(r=>e.valueComparator(r.value,l.value)),n=a??!~c;if(~c){const r=n?[...u.value,l]:[...u.value];r.splice(c,1),u.value=r}else n&&(u.value=[...u.value,l]);e.clearOnSelect&&(d.value="")}else{const c=a!==!1;u.value=c?[l]:[],d.value=c&&!_.value?l.title:"",ae(()=>{i.value=!1,V.value=!0})}}return B(g,(l,a)=>{var c;l!==a&&(l?(W.value=!0,d.value=e.multiple||_.value?"":String(((c=u.value.at(-1))==null?void 0:c.props.title)??""),V.value=!0,ae(()=>W.value=!1)):(!e.multiple&&d.value==null&&(u.value=[]),i.value=!1,u.value.some(n=>{let{title:r}=n;return r===d.value})||(d.value=""),s.value=-1))}),B(d,l=>{!g.value||W.value||(l&&(i.value=!0),V.value=!l)}),B(i,()=>{if(!e.hideSelected&&i.value&&u.value.length){const l=C.value.findIndex(a=>u.value.some(c=>a.value===c.value));$e&&window.requestAnimationFrame(()=>{var a;l>=0&&((a=A.value)==null||a.scrollToIndex(l))})}}),B(()=>e.items,(l,a)=>{i.value||g.value&&!a.length&&l.length&&(i.value=!0)}),ee(()=>{const l=!!(!e.hideNoData||C.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),a=u.value.length>0,c=de.filterProps(e);return o(de,I({ref:f},c,{modelValue:d.value,"onUpdate:modelValue":[n=>d.value=n,De],focused:g.value,"onUpdate:focused":n=>g.value=n,validationValue:u.externalValue,counterValue:ge.value,dirty:a,onChange:Ae,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":i.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!_.value,"v-autocomplete--selecting-index":s.value>-1},e.class],style:e.style,readonly:$.isReadonly.value,placeholder:a?void 0:e.placeholder,"onClick:clear":Ce,"onMousedown:control":Ie,onKeydown:we}),{...t,default:()=>o(D,null,[o(pl,I({ref:T,modelValue:i.value,"onUpdate:modelValue":n=>i.value=n,activator:"parent",contentClass:"v-autocomplete__content",disabled:J.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:xe,onAfterLeave:Re},e.menuProps),{default:()=>[l&&o(fl,I({ref:Q,selected:be.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:n=>n.preventDefault(),onKeydown:Pe,onFocusin:_e,onFocusout:Fe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},ke,e.listProps),{default:()=>{var n,r,y;return[(n=t["prepend-item"])==null?void 0:n.call(t),!C.value.length&&!e.hideNoData&&(((r=t["no-data"])==null?void 0:r.call(t))??o(fe,{title:p(e.noDataText)},null)),o(nl,{ref:A,renderless:!0,items:C.value},{default:v=>{var te;let{item:h,index:w,itemRef:b}=v;const le=I(h.props,{ref:b,key:w,active:j.value&&w===0?!0:void 0,onClick:()=>P(h,null)});return((te=t.item)==null?void 0:te.call(t,{item:h,index:w,props:le}))??o(fe,I(le,{role:"option"}),{prepend:L=>{let{isSelected:N}=L;return o(D,null,[e.multiple&&!e.hideSelected?o(ul,{key:h.value,modelValue:N,ripple:!1,tabindex:"-1"},null):void 0,h.props.prependAvatar&&o(Vl,{image:h.props.prependAvatar},null),h.props.prependIcon&&o(ne,{icon:h.props.prependIcon},null)])},title:()=>{var L,N;return V.value?h.title:gl(h.title,(L=ye(h))==null?void 0:L.title,((N=d.value)==null?void 0:N.length)??0)}})}}),(y=t["append-item"])==null?void 0:y.call(t)]}})]}),u.value.map((n,r)=>{function y(b){b.stopPropagation(),b.preventDefault(),P(n,!1)}const v={"onClick:close":y,onKeydown(b){b.key!=="Enter"&&b.key!==" "||(b.preventDefault(),b.stopPropagation(),y(b))},onMousedown(b){b.preventDefault(),b.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},h=E.value?!!t.chip:!!t.selection,w=h?Ee(E.value?t.chip({item:n,index:r,props:v}):t.selection({item:n,index:r})):void 0;if(!(h&&!w))return o("div",{key:n.value,class:["v-autocomplete__selection",r===s.value&&["v-autocomplete__selection--selected",Ve.value]],style:r===s.value?he.value:{}},[E.value?t.chip?o(Le,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:n.title}}},{default:()=>[w]}):o(hl,I({key:"chip",closable:e.closableChips,size:"small",text:n.title,disabled:n.props.disabled},v),null):w??o("span",{class:"v-autocomplete__selection-text"},[n.title,e.multiple&&r<u.value.length-1&&o("span",{class:"v-autocomplete__selection-comma"},[Ne(",")])])])})]),"append-inner":function(){var v;for(var n=arguments.length,r=new Array(n),y=0;y<n;y++)r[y]=arguments[y];return o(D,null,[(v=t["append-inner"])==null?void 0:v.call(t,...r),e.menuIcon?o(ne,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Se,onClick:Ue,"aria-label":p(M.value),title:p(M.value),tabindex:"-1"},null):void 0])}})}),dl({isFocused:g,isPristine:V,menu:i,search:d,filteredItems:q,select:P},f)}}),Tl=Object.assign({name:"AppAutocomplete",inheritAttrs:!1},{__name:"AppAutocomplete",setup(e){const m=k(()=>{const f=oe().id,g=Ke();return f?`app-autocomplete-${f}`:g}),t=k(()=>oe().label);return(p,f)=>(se(),ze("div",{class:We(["app-autocomplete flex-grow-1",p.$attrs.class])},[K(t)?(se(),Ge(pe,{key:0,for:K(m),class:"mb-1 text-body-2",text:K(t)},null,8,["for","text"])):He("",!0),o(bl,ie(re({...p.$attrs,class:null,label:void 0,id:K(m),variant:"outlined",menuProps:{contentClass:["app-inner-list","app-autocomplete__content","v-autocomplete__content"]}})),qe({_:2},[je(p.$slots,(g,V)=>({name:V,fn:Je(S=>[Qe(p.$slots,V,ie(re(S||{})))])}))]),1040)],2))}}),kl=X({...ol({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),Ml=Z()({name:"VRadio",props:kl(),setup(e,m){let{slots:t}=m;return ee(()=>{const p=Y.filterProps(e);return o(Y,I(p,{class:["v-radio",e.class],style:e.style,type:"radio"}),t)}),{}}}),Cl=X({height:{type:[Number,String],default:"auto"},...ll(),...me(sl(),["multiple"]),trueIcon:{type:ce,default:"$radioOn"},falseIcon:{type:ce,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Ol=Z()({name:"VRadioGroup",inheritAttrs:!1,props:Cl(),emits:{"update:modelValue":e=>!0},setup(e,m){let{attrs:t,slots:p}=m;const f=Ye(),g=k(()=>e.id||`radio-group-${f}`),V=z(e,"modelValue");return ee(()=>{const[S,T]=Xe(t),A=ve.filterProps(e),x=Y.filterProps(e),i=p.label?p.label({label:e.label,props:{for:g.value}}):e.label;return o(ve,I({class:["v-radio-group",e.class],style:e.style},S,A,{modelValue:V.value,"onUpdate:modelValue":s=>V.value=s,id:g.value}),{...p,default:s=>{let{id:R,messagesId:M,isDisabled:O,isReadonly:G}=s;return o(D,null,[i&&o(pe,{id:R.value},{default:()=>[i]}),o(il,I(x,{id:R.value,"aria-describedby":M.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:O.value,readonly:G.value,"aria-labelledby":i?R.value:void 0,multiple:!1},T,{modelValue:V.value,"onUpdate:modelValue":H=>V.value=H}),p)])}})}),{}}});export{Ol as V,Tl as _,Ml as a};
