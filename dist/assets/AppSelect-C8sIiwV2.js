import{a as Ae,b as Ce,c as ce,d as Ie}from"./VTextField-u0xzw2dW.js";import{a5 as j,ad as we,a7 as se,aP as Se,w as z,aa as re,b as d,F as K,q as M,aM as _e,aN as F,aW as de,r as U,Y as T,b8 as ke,aU as ne,b9 as Re,as as Pe,av as oe,ba as De,aT as Be,bb as Fe,Z as Ee,bc as Oe,G as Le,aF as J,af as Me,a6 as ze,al as He,a8 as fe,a_ as $e,$ as me,bd as Ne,ax as Ue,t as qe,be as ve,bf as pe,bg as he,bh as Ke,o as ge,c as je,m as Q,f as We,y as Ye,bi as Ze,h as Ge,e as Xe,z as Je,bj as ye,bk as Ve,x as Qe}from"./index-Bs2RNO2c.js";import{f as et}from"./forwardRefs-DWGaNmQL.js";import{m as tt,u as lt,V as nt,a as be}from"./VList-B2D3WP8O.js";import{m as at}from"./VImg-ChlwgMlx.js";import{g as ot,a as st}from"./VOverlay-CFu6OK1m.js";import{V as rt}from"./VMenu-cvVSA9oS.js";import{b as ut}from"./VForm-E0cdFEXy.js";import{V as it}from"./VAvatar-B0jp4-Bf.js";import{V as ct}from"./VChip-DtIQVCrE.js";const dt=e=>e==null||e===""?!0:!!(Array.isArray(e)&&e.length===0),ft=e=>e==null,mt=e=>Array.isArray(e)&&e.length===0,Lt=e=>ft(e)||mt(e)||e===!1?"Ce champ est obligatoire":!!String(e).trim().length||"Ce champ est obligatoire",Mt=e=>{if(dt(e))return!0;const r=/^(?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*|".+")@(?:\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\]|(?:[a-z\-\d]+\.)+[a-z]{2,})$/i;return Array.isArray(e)?e.every(l=>r.test(String(l)))||"Veuillez entrer une adresse e-mail valide":r.test(String(e))||"Veuillez entrer une adresse e-mail valide"},zt=e=>/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&*()]).{8,}/.test(e)||"Le champ doit contenir au moins une majuscule, une minuscule, un caractère spécial et un chiffre, avec un minimum de 8 caractères.",vt=j({renderless:Boolean,...we()},"VVirtualScrollItem"),pt=se()({name:"VVirtualScrollItem",inheritAttrs:!1,props:vt(),emits:{"update:height":e=>!0},setup(e,r){let{attrs:l,emit:u,slots:o}=r;const{resizeRef:m,contentRect:v}=Se(void 0,"border");z(()=>{var s;return(s=v.value)==null?void 0:s.height},s=>{s!=null&&u("update:height",s)}),re(()=>{var s,a;return e.renderless?d(K,null,[(s=o.default)==null?void 0:s.call(o,{itemRef:m})]):d("div",M({ref:m,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(a=o.default)==null?void 0:a.call(o)])})}}),ht=-1,gt=1,ae=100,yt=j({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Vt(e,r){const l=_e(),u=F(0);de(()=>{u.value=parseFloat(e.itemHeight||0)});const o=F(0),m=F(Math.ceil((parseInt(e.height)||l.height.value)/(u.value||16))||1),v=F(0),s=F(0),a=U(),h=U();let _=0;const{resizeRef:D,contentRect:c}=Se();de(()=>{D.value=a.value});const V=T(()=>{var t;return a.value===document.documentElement?l.height.value:((t=c.value)==null?void 0:t.height)||parseInt(e.height)||0}),E=T(()=>!!(a.value&&h.value&&V.value&&u.value));let x=Array.from({length:r.value.length}),p=Array.from({length:r.value.length});const b=F(0);let S=-1;function O(t){return x[t]||u.value}const A=Re(()=>{const t=performance.now();p[0]=0;const n=r.value.length;for(let f=1;f<=n-1;f++)p[f]=(p[f-1]||0)+O(f-1);b.value=Math.max(b.value,performance.now()-t)},b),W=z(E,t=>{t&&(W(),_=h.value.offsetTop,A.immediate(),R(),~S&&Pe(()=>{oe&&window.requestAnimationFrame(()=>{X(S),S=-1})}))});ke(()=>{A.clear()});function ee(t,n){const f=x[t],g=u.value;u.value=g?Math.min(u.value,n):n,(f!==n||g!==u.value)&&(x[t]=n,A())}function k(t){return t=ne(t,0,r.value.length-1),p[t]||0}function Y(t){return bt(p,t)}let H=0,L=0,q=0;z(V,(t,n)=>{n&&(R(),t<n&&requestAnimationFrame(()=>{L=0,R()}))});function Z(){if(!a.value||!h.value)return;const t=a.value.scrollTop,n=performance.now();n-q>500?(L=Math.sign(t-H),_=h.value.offsetTop):L=t-H,H=t,q=n,R()}function $(){!a.value||!h.value||(L=0,q=0,R())}let G=-1;function R(){cancelAnimationFrame(G),G=requestAnimationFrame(te)}function te(){if(!a.value||!V.value)return;const t=H-_,n=Math.sign(L),f=Math.max(0,t-ae),g=ne(Y(f),0,r.value.length),C=t+V.value+ae,i=ne(Y(C)+1,g+1,r.value.length);if((n!==ht||g<o.value)&&(n!==gt||i>m.value)){const y=k(o.value)-k(g),w=k(i)-k(m.value);Math.max(y,w)>ae?(o.value=g,m.value=i):(g<=0&&(o.value=g),i>=r.value.length&&(m.value=i))}v.value=k(o.value),s.value=k(r.value.length)-k(m.value)}function X(t){const n=k(t);!a.value||t&&!n?S=t:a.value.scrollTop=n}const le=T(()=>r.value.slice(o.value,m.value).map((t,n)=>({raw:t,index:n+o.value})));return z(r,()=>{x=Array.from({length:r.value.length}),p=Array.from({length:r.value.length}),A.immediate(),R()},{deep:!0}),{calculateVisibleItems:R,containerRef:a,markerRef:h,computedItems:le,paddingTop:v,paddingBottom:s,scrollToIndex:X,handleScroll:Z,handleScrollend:$,handleItemResize:ee}}function bt(e,r){let l=e.length-1,u=0,o=0,m=null,v=-1;if(e[l]<r)return l;for(;u<=l;)if(o=u+l>>1,m=e[o],m>r)l=o-1;else if(m<r)v=o,u=o+1;else return m===r?o:u;return v}const wt=j({items:{type:Array,default:()=>[]},renderless:Boolean,...yt(),...we(),...De()},"VVirtualScroll"),St=se()({name:"VVirtualScroll",props:wt(),setup(e,r){let{slots:l}=r;const u=Be("VVirtualScroll"),{dimensionStyles:o}=Fe(e),{calculateVisibleItems:m,containerRef:v,markerRef:s,handleScroll:a,handleScrollend:h,handleItemResize:_,scrollToIndex:D,paddingTop:c,paddingBottom:V,computedItems:E}=Vt(e,Ee(e,"items"));return Oe(()=>e.renderless,()=>{function x(){var S,O;const b=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";v.value===document.documentElement?(document[b]("scroll",a,{passive:!0}),document[b]("scrollend",h)):((S=v.value)==null||S[b]("scroll",a,{passive:!0}),(O=v.value)==null||O[b]("scrollend",h))}Le(()=>{v.value=ot(u.vnode.el,!0),x(!0)}),ke(x)}),re(()=>{const x=E.value.map(p=>d(pt,{key:p.index,renderless:e.renderless,"onUpdate:height":b=>_(p.index,b)},{default:b=>{var S;return(S=l.default)==null?void 0:S.call(l,{item:p.raw,index:p.index,...b})}}));return e.renderless?d(K,null,[d("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:J(c.value)}},null),x,d("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:J(V.value)}},null)]):d("div",{ref:v,class:["v-virtual-scroll",e.class],onScrollPassive:a,onScrollend:h,style:[o.value,e.style]},[d("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:J(c.value),paddingBottom:J(V.value)}},[x])])}),{calculateVisibleItems:m,scrollToIndex:D}}});function kt(e,r){const l=F(!1);let u;function o(s){cancelAnimationFrame(u),l.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{l.value=!1})})}async function m(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(l.value){const a=z(l,()=>{a(),s()})}else s()})}async function v(s){var _,D;if(s.key==="Tab"&&((_=r.value)==null||_.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const a=(D=e.value)==null?void 0:D.$el;if(!a)return;(s.key==="Home"||s.key==="End")&&a.scrollTo({top:s.key==="Home"?0:a.scrollHeight,behavior:"smooth"}),await m();const h=a.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const c=a.getBoundingClientRect().top;for(const V of h)if(V.getBoundingClientRect().top>=c){V.focus();break}}else{const c=a.getBoundingClientRect().bottom;for(const V of[...h].reverse())if(V.getBoundingClientRect().bottom<=c){V.focus();break}}}return{onScrollPassive:o,onKeydown:v}}const Pt=j({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Me,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...tt({itemChildren:!1})},"Select"),xt=j({...Pt(),...ze(Ae({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...at({transition:{component:st}})},"VSelect"),Tt=se()({name:"VSelect",props:xt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:l}=r;const{t:u}=He(),o=U(),m=U(),v=U(),s=fe(e,"menu"),a=T({get:()=>s.value,set:t=>{var n;s.value&&!t&&((n=m.value)!=null&&n.ΨopenChildren.size)||(s.value=t)}}),{items:h,transformIn:_,transformOut:D}=lt(e),c=fe(e,"modelValue",[],t=>_(t===null?[null]:$e(t)),t=>{const n=D(t);return e.multiple?n:n[0]??null}),V=T(()=>typeof e.counterValue=="function"?e.counterValue(c.value):typeof e.counterValue=="number"?e.counterValue:c.value.length),E=Ce(e),x=T(()=>c.value.map(t=>t.value)),p=F(!1),b=T(()=>a.value?e.closeText:e.openText);let S="",O;const A=T(()=>e.hideSelected?h.value.filter(t=>!c.value.some(n=>e.valueComparator(n,t))):h.value),W=T(()=>e.hideNoData&&!A.value.length||E.isReadonly.value||E.isDisabled.value),ee=T(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),k=U(),Y=kt(k,o);function H(t){e.openOnClear&&(a.value=!0)}function L(){W.value||(a.value=!a.value)}function q(t){ve(t)&&Z(t)}function Z(t){var C,i;if(!t.key||E.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(a.value=!0),["Escape","Tab"].includes(t.key)&&(a.value=!1),t.key==="Home"?(C=k.value)==null||C.focus("first"):t.key==="End"&&((i=k.value)==null||i.focus("last"));const n=1e3;if(e.multiple||!ve(t))return;const f=performance.now();f-O>n&&(S=""),S+=t.key.toLowerCase(),O=f;const g=h.value.find(y=>y.title.toLowerCase().startsWith(S));if(g!==void 0){c.value=[g];const y=A.value.indexOf(g);oe&&window.requestAnimationFrame(()=>{var w;y>=0&&((w=v.value)==null||w.scrollToIndex(y))})}}function $(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const f=c.value.findIndex(C=>e.valueComparator(C.value,t.value)),g=n??!~f;if(~f){const C=g?[...c.value,t]:[...c.value];C.splice(f,1),c.value=C}else g&&(c.value=[...c.value,t])}else{const f=n!==!1;c.value=f?[t]:[],Pe(()=>{a.value=!1})}}function G(t){var n;(n=k.value)!=null&&n.$el.contains(t.relatedTarget)||(a.value=!1)}function R(){var t;e.eager&&((t=v.value)==null||t.calculateVisibleItems())}function te(){var t;p.value&&((t=o.value)==null||t.focus())}function X(t){p.value=!0}function le(t){if(t==null)c.value=[];else if(pe(o.value,":autofill")||pe(o.value,":-webkit-autofill")){const n=h.value.find(f=>f.title===t);n&&$(n)}else o.value&&(o.value.value="")}return z(a,()=>{if(!e.hideSelected&&a.value&&c.value.length){const t=A.value.findIndex(n=>c.value.some(f=>e.valueComparator(f.value,n.value)));oe&&window.requestAnimationFrame(()=>{var n;t>=0&&((n=v.value)==null||n.scrollToIndex(t))})}}),z(()=>e.items,(t,n)=>{a.value||p.value&&!n.length&&t.length&&(a.value=!0)}),re(()=>{const t=!!(e.chips||l.chip),n=!!(!e.hideNoData||A.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),f=c.value.length>0,g=ce.filterProps(e),C=f||!p.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return d(ce,M({ref:o},g,{modelValue:c.value.map(i=>i.props.value).join(", "),"onUpdate:modelValue":le,focused:p.value,"onUpdate:focused":i=>p.value=i,validationValue:c.externalValue,counterValue:V.value,dirty:f,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:C,"onClick:clear":H,"onMousedown:control":L,onBlur:G,onKeydown:Z,"aria-label":u(b.value),title:u(b.value)}),{...l,default:()=>d(K,null,[d(rt,M({ref:m,modelValue:a.value,"onUpdate:modelValue":i=>a.value=i,activator:"parent",contentClass:"v-select__content",disabled:W.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:R,onAfterLeave:te},ee.value),{default:()=>[n&&d(nt,M({ref:k,selected:x.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:i=>i.preventDefault(),onKeydown:q,onFocusin:X,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Y,e.listProps),{default:()=>{var i,y,w;return[(i=l["prepend-item"])==null?void 0:i.call(l),!A.value.length&&!e.hideNoData&&(((y=l["no-data"])==null?void 0:y.call(l))??d(be,{title:u(e.noDataText)},null)),d(St,{ref:v,renderless:!0,items:A.value},{default:B=>{var ie;let{item:I,index:N,itemRef:P}=B;const ue=M(I.props,{ref:P,key:N,onClick:()=>$(I,null)});return((ie=l.item)==null?void 0:ie.call(l,{item:I,index:N,props:ue}))??d(be,M(ue,{role:"option"}),{prepend:xe=>{let{isSelected:Te}=xe;return d(K,null,[e.multiple&&!e.hideSelected?d(ut,{key:I.value,modelValue:Te,ripple:!1,tabindex:"-1"},null):void 0,I.props.prependAvatar&&d(it,{image:I.props.prependAvatar},null),I.props.prependIcon&&d(me,{icon:I.props.prependIcon},null)])}})}}),(w=l["append-item"])==null?void 0:w.call(l)]}})]}),c.value.map((i,y)=>{function w(P){P.stopPropagation(),P.preventDefault(),$(i,!1)}const B={"onClick:close":w,onKeydown(P){P.key!=="Enter"&&P.key!==" "||(P.preventDefault(),P.stopPropagation(),w(P))},onMousedown(P){P.preventDefault(),P.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},I=t?!!l.chip:!!l.selection,N=I?Ne(t?l.chip({item:i,index:y,props:B}):l.selection({item:i,index:y})):void 0;if(!(I&&!N))return d("div",{key:i.value,class:"v-select__selection"},[t?l.chip?d(Ue,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:i.title}}},{default:()=>[N]}):d(ct,M({key:"chip",closable:e.closableChips,size:"small",text:i.title,disabled:i.props.disabled},B),null):N??d("span",{class:"v-select__selection-text"},[i.title,e.multiple&&y<c.value.length-1&&d("span",{class:"v-select__selection-comma"},[qe(",")])])])})]),"append-inner":function(){var B;for(var i=arguments.length,y=new Array(i),w=0;w<i;w++)y[w]=arguments[w];return d(K,null,[(B=l["append-inner"])==null?void 0:B.call(l,...y),e.menuIcon?d(me,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),et({isFocused:p,menu:a,select:$},o)}}),Ht=Object.assign({name:"AppSelect",inheritAttrs:!1},{__name:"AppSelect",setup(e){const r=T(()=>{const o=he().id,m=Ke();return o?`app-select-${o}`:m}),l=T(()=>he().label);return(u,o)=>(ge(),je("div",{class:Qe(["app-select flex-grow-1",u.$attrs.class])},[Q(l)?(ge(),We(Ie,{key:0,for:Q(r),class:"mb-1 text-body-2",style:{"line-height":"15px"},text:Q(l)},null,8,["for","text"])):Ye("",!0),d(Tt,ye(Ve({...u.$attrs,class:null,label:void 0,variant:"outlined",id:Q(r),menuProps:{contentClass:["app-inner-list","app-select__content","v-select__content",u.$attrs.multiple!==void 0?"v-list-select-multiple":""]}})),Ze({_:2},[Ge(u.$slots,(m,v)=>({name:v,fn:Xe(s=>[Je(u.$slots,v,ye(Ve(s||{})))])}))]),1040)],2))}});export{Tt as V,Ht as _,Mt as e,zt as p,Lt as r};
