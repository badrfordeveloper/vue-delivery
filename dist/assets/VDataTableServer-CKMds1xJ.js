import{V as F}from"./VDivider-BMPN5T29.js";import{b as ae,c as te,d as re,e as le,f as se,u as oe,p as ue,g as ne,h as de,i as ie,j as ce,k as me,l as ge,m as B,n as I,o as k,V as q,q as ve,r as be,s as Pe}from"./VDataTable-DbMptXrw.js";import{c as pe,o as ye,b as l,d as N,x as fe,n as he,Y as g,cd as m,a1 as De,a2 as Te,ce as Se,Z as n,aT as Ve,a9 as xe,s as p,F as E,O as we}from"./index-BzYb6ZoD.js";import{s as Be}from"./index-CEU2nq8s.js";const Ie=(e,t)=>{const u=(e.page-1)*e.itemsPerPage+1,a=Math.min(e.page*e.itemsPerPage,t);return`Affichage de  ${t===0?0:u} à ${a} sur  ${t} entrées`},ke={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 px-6 py-3"},qe={class:"text-disabled mb-0"},$e={__name:"TablePagination",props:{page:{type:Number,required:!0},itemsPerPage:{type:Number,required:!0},totalItems:{type:Number,required:!0}},emits:["update:page"],setup(e,{emit:t}){const u=t,a=r=>{u("update:page",r)};return(r,o)=>(ye(),pe("div",null,[l(F),N("div",ke,[N("p",qe,fe(("paginationMeta"in r?r.paginationMeta:he(Ie))({page:e.page,itemsPerPage:e.itemsPerPage},e.totalItems)),1),l(ae,{"model-value":e.page,"active-color":"primary",length:Math.ceil(e.totalItems/e.itemsPerPage),"total-visible":r.$vuetify.display.xs?1:Math.min(Math.ceil(e.totalItems/e.itemsPerPage),5),"onUpdate:modelValue":a},null,8,["model-value","length","total-visible"])])]))}},je=(e,t)=>g(()=>{if(!(t!=null&&t.query))return m(e);const u=m(e),a=m(t==null?void 0:t.query),r=Object.fromEntries(Object.entries(a).map(([o,v])=>[o,m(v)]));return`${u}${r?`?${Be(r)}`:""}`}),Ne=Te({itemsLength:{type:[Number,String],required:!0},...Pe(),...be(),...ve()},"VDataTableServer"),Ge=De()({name:"VDataTableServer",props:Ne(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:u,slots:a}=t;const{groupBy:r}=te(e),{sortBy:o,multiSort:v,mustSort:M}=re(e),{page:i,itemsPerPage:b}=le(e),{disableSort:R}=Se(e),$=g(()=>parseInt(e.itemsLength,10)),{columns:y,headers:j}=se(e,{groupBy:r,showSelect:n(e,"showSelect"),showExpand:n(e,"showExpand")}),{items:c}=oe(e,y),{toggleSort:f}=ge({sortBy:o,multiSort:v,mustSort:M,page:i}),{opened:G,isGroupOpen:O,toggleGroup:H,extractRows:C}=ue({groupBy:r,sortBy:o,disableSort:R}),{pageCount:L,setItemsPerPage:A}=ne({page:i,itemsPerPage:b,itemsLength:$}),{flatItems:h}=de(c,r,G),{isSelected:U,select:Q,selectAll:W,toggleSelect:Y,someSelected:Z,allSelected:z}=ie(e,{allItems:c,currentPage:c}),{isExpanded:J,toggleExpand:K}=ce(e),D=g(()=>C(c.value));me({page:i,itemsPerPage:b,sortBy:o,groupBy:r,search:n(e,"search")}),we("v-data-table",{toggleSort:f,sortBy:o}),Ve({VDataTableRows:{hideNoData:n(e,"hideNoData"),noDataText:n(e,"noDataText"),loading:n(e,"loading"),loadingText:n(e,"loadingText")}});const s=g(()=>({page:i.value,itemsPerPage:b.value,sortBy:o.value,pageCount:L.value,toggleSort:f,setItemsPerPage:A,someSelected:Z.value,allSelected:z.value,isSelected:U,select:Q,selectAll:W,toggleSelect:Y,isExpanded:J,toggleExpand:K,isGroupOpen:O,toggleGroup:H,items:D.value.map(P=>P.raw),internalItems:D.value,groupedItems:h.value,columns:y.value,headers:j.value}));xe(()=>{const P=B.filterProps(e),X=I.filterProps(e),_=k.filterProps(e),ee=q.filterProps(e);return l(q,p({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},ee),{top:()=>{var d;return(d=a.top)==null?void 0:d.call(a,s.value)},default:()=>{var d,T,S,V,x,w;return a.default?a.default(s.value):l(E,null,[(d=a.colgroup)==null?void 0:d.call(a,s.value),!e.hideDefaultHeader&&l("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[l(I,p(X,{sticky:e.fixedHeader}),a)]),(T=a.thead)==null?void 0:T.call(a,s.value),!e.hideDefaultBody&&l("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(S=a["body.prepend"])==null?void 0:S.call(a,s.value),a.body?a.body(s.value):l(k,p(u,_,{items:h.value}),a),(V=a["body.append"])==null?void 0:V.call(a,s.value)]),(x=a.tbody)==null?void 0:x.call(a,s.value),(w=a.tfoot)==null?void 0:w.call(a,s.value)])},bottom:()=>a.bottom?a.bottom(s.value):!e.hideDefaultFooter&&l(E,null,[l(F,null,null),l(B,P,{prepend:a["footer.prepend"]})])})})}});export{Ge as V,$e as _,je as c};
