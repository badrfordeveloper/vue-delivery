import{a as R,c as S,_ as j}from"./VDataTableServer-wh3Th5oO.js";import{_ as q}from"./AppSelect-CRxFw9Fs.js";import{_ as h}from"./AppTextField-5k2ZtfxR.js";import{r as i,aq as E,Y as k,o as c,c as O,b as o,e as s,m as t,ak as n,d as b,f as B,t as Y,ai as z,y as C,$ as G,j as H,a as J,A as P}from"./index-sCyKcOUa.js";import{u as K}from"./index-Dxey1Gwx.js";import{V as L}from"./VCardText-BitUWJjK.js";import{V as M,a as U}from"./VRow-CeslyRbc.js";import{V as w}from"./VDivider-Yl_FhgTR.js";import{V as Q}from"./VSpacer-BJhOXRPu.js";import{V as W}from"./VCard-GVmtpHDv.js";import"./VSelect-U9IhQR_D.js";import"./VTextField-Dxf5Z232.js";import"./VImg-y6-d-vAq.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-DfcxhuRW.js";import"./VAvatar-14CzpOO4.js";import"./VOverlay-B_IMbWSn.js";import"./VMenu-DLXN-o3P.js";import"./VChip-DAlPi1ll.js";import"./filter-CBDlHqxC.js";import"./toast-Mo2TXxlx.js";/* empty css              */const X={class:"d-flex flex-wrap gap-4 ma-6"},Z={class:"d-flex gap-4 flex-wrap align-center"},we={__name:"list",async setup(ee){let p,V;const A=[{title:"destination",key:"destination",sortable:!1},{title:"tarif",key:"tarif",sortable:!1},{title:"prefix",key:"prefix",sortable:!1},{title:"actions",key:"actions",sortable:!1}],d=i(),u=i(),l=i(5),r=i(1),_=i(),g=i(),T=f=>{var e,m;_.value=(e=f.sortBy[0])==null?void 0:e.key,g.value=(m=f.sortBy[0])==null?void 0:m.order},{data:v,error:te,statusCode:ae,isFetching:$,execute:oe}=([p,V]=E(()=>K(S("/api/tarifs",{query:{destination:d,prefix:u,page:r,itemsPerPage:l,sortBy:_,orderBy:g}}))),p=await p,V(),p),x=H(),D=k(()=>v.value.items),y=k(()=>v.value.total);return(f,e)=>{const m=h,I=q,N=J("IconBtn"),F=j;return c(),O("div",null,[o(W,{title:"Filtres",class:"mb-6"},{default:s(()=>[o(L,null,{default:s(()=>[o(M,null,{default:s(()=>[o(U,{cols:"12",sm:"2"},{default:s(()=>[o(m,{modelValue:t(d),"onUpdate:modelValue":e[0]||(e[0]=a=>n(d)?d.value=a:null),placeholder:"Destination"},null,8,["modelValue"])]),_:1}),o(U,{cols:"12",sm:"2"},{default:s(()=>[o(m,{modelValue:t(u),"onUpdate:modelValue":e[1]||(e[1]=a=>n(u)?u.value=a:null),placeholder:"Prefix"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(w),b("div",X,[o(Q),b("div",Z,[o(I,{modelValue:t(l),"onUpdate:modelValue":e[2]||(e[2]=a=>n(l)?l.value=a:null),items:[5,10,20,25,50]},null,8,["modelValue"]),t(P)("create","tarif")?(c(),B(z,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:e[3]||(e[3]=a=>t(x).push({name:"tarif-add"}))},{default:s(()=>e[7]||(e[7]=[Y(" Ajouter Tarif ")])),_:1})):C("",!0)])]),o(w,{class:"mt-4"}),o(R,{"items-per-page":t(l),"onUpdate:itemsPerPage":e[5]||(e[5]=a=>n(l)?l.value=a:null),page:t(r),"onUpdate:page":e[6]||(e[6]=a=>n(r)?r.value=a:null),loading:t($),headers:A,items:t(D),"items-length":t(y),class:"text-no-wrap",locale:"fr","onUpdate:options":T},{"item.actions":s(({item:a})=>[t(P)("update","tarif")?(c(),B(N,{key:0,onClick:se=>t(x).push("/tarif/"+a.id)},{default:s(()=>[o(G,{icon:"tabler-edit"})]),_:2},1032,["onClick"])):C("",!0)]),bottom:s(()=>[o(F,{page:t(r),"onUpdate:page":e[4]||(e[4]=a=>n(r)?r.value=a:null),"items-per-page":t(l),"total-items":t(y)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items","items-length"])]),_:1})])}}};export{we as default};
