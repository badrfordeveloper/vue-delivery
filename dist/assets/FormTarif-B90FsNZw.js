import{r as n,V as x,$ as q}from"./VForm-BLjIjdGP.js";import{_ as g}from"./AppTextField-CYZ3Rx27.js";import{j as T,r as c,w as b,c as w,o as j,d as m,b as e,x as F,e as l,n as i,ai as C,v as S,F as U}from"./index-BzYb6ZoD.js";import{t as _}from"./toast-D70_l16b.js";import{V as p,a as u}from"./VRow-DsbanFfo.js";import{V as P}from"./VCard-BFmSMYzL.js";import{V as $}from"./VCardText-BXEBMitH.js";const k={class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},B={class:"d-flex flex-column justify-center"},D={class:"text-h4 font-weight-medium"},z={__name:"FormTarif",props:{method:{type:String,required:!0},item:{type:Object,required:!1},identity:{type:String,required:!1}},setup(h){const d=h,v=T(),f=c(),o=c({destination:"",tarif:"",delai_livraison:"",prefix:""});b(()=>d.item,r=>{d.method=="PUT"&&(o.value={...r})},{immediate:!0});const y=async()=>{console.log(o.value);const{valid:r}=await f.value.validate();if(r){let a="/api/tarifs";d.method=="PUT"&&(a="/api/tarifs/"+d.identity),q({method:d.method,url:a,data:o.value}).then(async s=>{var t;s.status===200&&(_.success(s.data),d.method=="POST"?(t=f.value)==null||t.reset():v.push({name:"tarif-list"}))}).catch(s=>{if(s.response&&s.response.status===422){const t=s.response.data.errors;for(let V in t)_.error(`${V}: ${t[V].join(", ")}`)}})}};return(r,a)=>{const s=g;return j(),w(U,null,[m("div",k,[m("div",B,[m("h4",D,F(d.method=="POST"?"Ajouter Tarif":"Modifier Tarif"),1)])]),e(x,{ref_key:"refForm",ref:f,class:"mt-3"},{default:l(()=>[e(p,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(P,null,{default:l(()=>[e($,{class:"pt-2"},{default:l(()=>[e(p,null,{default:l(()=>[e(u,{md:"6",cols:"12"},{default:l(()=>[e(s,{modelValue:i(o).destination,"onUpdate:modelValue":a[0]||(a[0]=t=>i(o).destination=t),rules:["requiredValidator"in r?r.requiredValidator:i(n)],placeholder:"Destination",label:"Destination"},null,8,["modelValue","rules"])]),_:1}),e(u,{md:"6",cols:"12"},{default:l(()=>[e(s,{modelValue:i(o).tarif,"onUpdate:modelValue":a[1]||(a[1]=t=>i(o).tarif=t),rules:["requiredValidator"in r?r.requiredValidator:i(n)],placeholder:"tarif",label:"tarif"},null,8,["modelValue","rules"])]),_:1}),e(u,{md:"6",cols:"12"},{default:l(()=>[e(s,{modelValue:i(o).prefix,"onUpdate:modelValue":a[2]||(a[2]=t=>i(o).prefix=t),rules:["requiredValidator"in r?r.requiredValidator:i(n)],placeholder:"ex : CAZN",label:"Prefix"},null,8,["modelValue","rules"])]),_:1}),e(u,{md:"6",cols:"12"},{default:l(()=>[e(s,{modelValue:i(o).delai_livraison,"onUpdate:modelValue":a[3]||(a[3]=t=>i(o).delai_livraison=t),rules:["requiredValidator"in r?r.requiredValidator:i(n)],placeholder:"ex : 24h",label:"dÃ©lai de livraison"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(u,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[e(C,{onClick:y},{default:l(()=>a[4]||(a[4]=[S(" Enregistrer ")])),_:1})]),_:1})]),_:1})]),_:1},512)],64)}}};export{z as _};
