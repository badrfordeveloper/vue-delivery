import{s as z}from"./statutInfos-CQo4TYHA.js";import{r as Z,V as ye,$ as J}from"./VForm-DE5Dv9Vg.js";import{r as m,w as le,Y as M,c as U,o as c,b as t,F as ee,h as se,f as R,e as l,v as C,x as h,n as e,ak as T,d as a,m as A,ai as O,A as H,aq as be,as as me,J as pe,$ as ae,s as re,K as ce,j as Ie,a as Te}from"./index-Cpx2oQOu.js";import{_ as Ae,V as $e,a as Ue,b as De,d as fe,e as Pe}from"./VTabs-FSF85mBO.js";import{_ as ie}from"./AppTextField-DcnJNrqY.js";import{_ as Ve}from"./AppSelect-BNJgt2DB.js";import{_ as we}from"./AppTextarea-kINhzqyt.js";import{_ as Oe,d as Ne}from"./constants-BltA3_Ka.js";import{t as q}from"./toast-DRzPnEr1.js";import{V as ve}from"./VAlert-DKVGvw_n.js";import{V as P,a as E}from"./VRow-D3F4KUiE.js";import{V as X,a as _e}from"./VList-FbrG2muM.js";import{_ as Ee}from"./DialogCloseBtn-CyhOHkF9.js";import{V as ne}from"./VCard-ReRXJKrU.js";import{V as oe}from"./VCardText-C2zmEXKG.js";import{V as ge,a as qe}from"./VDataTable-CwT4qoSb.js";import{V as Re}from"./VChip-DLIMD1Bc.js";import{V as ue}from"./VDivider-PtAXYG4Q.js";import{V as ke}from"./VDialog-DZYKZxfn.js";import{V as Fe,_ as je,c as Be}from"./VDataTableServer-DgY7t16v.js";import{u as Le}from"./index-Dt9Tyk0y.js";import{V as Me}from"./VSpacer-kbMM-EH7.js";import{V as ze}from"./VMenu-SP-Qfij5.js";import"./VInput-DGQc-sBd.js";import"./VImg-BaA_dvcq.js";import"./forwardRefs-DWGaNmQL.js";import"./VOverlay-B2_IMlFx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VTextField-yTp9D8wO.js";import"./VSelect-RP3MareX.js";import"./VAvatar-CsMBVwvd.js";/* empty css              */import"./filter-CoHf6CYO.js";const Ge={__name:"Preparer",props:{item:{type:Object,required:!0},isShowEntrepot:{type:Boolean,required:!0}},emits:["hideEntrepot","getItemData"],setup(Y,{emit:F}){const $=Y,j=F,S=m({}),g=m("");le(()=>$.item,v=>{S.value=v},{immediate:!0});const k=m(),w=m(!1),o=m([]),y=m([]),_=m([]),V=m(!1),I=m(!1),G=async()=>{const{valid:v}=await k.value.validate();v&&await B()},K=()=>{j("hideEntrepot")},B=v=>{w.value=!0,V.value=!1,V.value=!1,J({method:"POST",url:"/api/scannerPreparer",data:{retour_id:S.value.id,scannedColis:N.value,commonColis:s.value,duplicatedColis:n.value,externeColis:p.value,missingColis:b.value}}).then(async r=>{if(r.status===200){let i=r.data;console.log(i),o.value=i.success,y.value=i.errors,_.value=i.colisError,V.value=!0,I.value=y.value.length==0,y.value.length==0&&j("getItemData")}w.value=!1}).catch(r=>{w.value=!1,r.response&&r.response.status===422?q.error(r.response.data.message):q.error("something wrong")})},x=M(()=>S.value.colis.map(v=>v.code)),N=M(()=>g.value?g.value.split(`
`).map(v=>v.trim()).filter(v=>v.length>0):[]),n=M(()=>N.value.filter((v,r,i)=>i.indexOf(v)!==r)),p=M(()=>{const v=new Set(x.value);let r=N.value.filter(i=>!v.has(i));return r=new Set(r),[...r]}),b=M(()=>{const v=new Set(N.value);return x.value.filter(r=>!v.has(r))}),s=M(()=>{const v=new Set(x.value),r=new Set(N.value);return[...v].filter(i=>r.has(i))});return(v,r)=>{const i=we;return c(),U(ee,null,[(c(!0),U(ee,null,se(e(o),(D,L)=>(c(),R(ve,{key:L,modelValue:e(I),"onUpdate:modelValue":r[0]||(r[0]=W=>T(I)?I.value=W:null),color:"success",class:"ma-1"},{default:l(()=>[C(h(D),1)]),_:2},1032,["modelValue"]))),128)),(c(!0),U(ee,null,se(e(y),(D,L)=>(c(),R(ve,{key:L,modelValue:e(V),"onUpdate:modelValue":r[1]||(r[1]=W=>T(V)?V.value=W:null),color:"error",class:"ma-1"},{default:l(()=>[C(h(D),1)]),_:2},1032,["modelValue"]))),128)),t(ye,{ref_key:"refForm",ref:k,class:"mt-3"},{default:l(()=>[a("div",null,[t(P,{class:"d-flex align-center justify-center"},{default:l(()=>[t(E,{cols:"12"},{default:l(()=>[t(i,{modelValue:e(g),"onUpdate:modelValue":r[2]||(r[2]=D=>T(g)?g.value=D:null),rows:"5","row-height":"20",label:"Scanner",rules:["requiredValidator"in v?v.requiredValidator:e(Z)],placeholder:"Select pour scanner"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),t(P,null,{default:l(()=>[e(_).length>0?(c(),R(E,{key:0,cols:"12",md:"3"},{default:l(()=>[r[3]||(r[3]=a("p",{class:"text-error"}," Colis erroné ",-1)),t(X,{items:e(_),class:"border border-error border-opacity-75"},null,8,["items"])]),_:1})):A("",!0),e(n).length>0?(c(),R(E,{key:1,cols:"12",md:"3"},{default:l(()=>[r[4]||(r[4]=a("p",{class:"text-error"}," Colis dupliqués ",-1)),t(X,{items:e(n),class:"border border-error border-opacity-75"},null,8,["items"])]),_:1})):A("",!0),t(E,{cols:"12",md:"3"},{default:l(()=>[r[5]||(r[5]=C(" Colis manquant ")),t(X,{items:e(b)},null,8,["items"])]),_:1}),e(p).length>0?(c(),R(E,{key:2,cols:"12",md:"3"},{default:l(()=>[r[6]||(r[6]=a("p",{class:"text-error"}," Colis externe ",-1)),t(X,{items:e(p),class:"border border-error border-opacity-75"},null,8,["items"])]),_:1})):A("",!0)]),_:1}),t(P,null,{default:l(()=>[t(E,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[t(O,{color:"secondary",onClick:K},{default:l(()=>r[7]||(r[7]=[C(" retour ")])),_:1}),t(O,{loading:e(w),onClick:G},{default:l(()=>r[8]||(r[8]=[C(" Envoyer ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)],64)}}},He={key:0},Ke={key:1},We={class:"text-center"},Ye={key:0},Je={key:1},Qe={__name:"actionsRetour",props:{currentStatut:{type:String,required:!0},item:{type:Object,required:!0},id:{type:Number,required:!0}},emits:["getItemData"],setup(Y,{emit:F}){const $=Y,j=F,S=m({}),g=m(""),k=m(!1),w=m(),o=m({id:null,statut:"",nombre_colis_ramasseur:"",commentaire:"",date:"",file:""}),y=()=>{k.value=!1,V.value=!1};le(()=>$.currentStatut,n=>{g.value=n},{immediate:!0}),le(()=>$.item,n=>{S.value=n},{immediate:!0});const _=m(""),V=m(!1),I=n=>{k.value=!0,o.value.statut=n,n=="PREPARER"&&(V.value=!0)},G=async()=>{const{valid:n}=await w.value.validate();n&&await K(o.value.statut)},K=async n=>{o.value.statut=n,o.value.id=$.id,_.value=n,J({method:"POST",url:"/api/updateStatutRetour",data:o.value}).then(async p=>{p.status===200&&(q.success(p.data),n!="COMMENTAIRE"&&(g.value=n),k.value=!1,j("getItemData")),_.value=""}).catch(p=>{_.value="",p.response&&p.response.status===422?q.error(p.response.data.message):q.error("something wrong")})},B=H("livreur","action"),x=H("gestionnaire","action"),N=M(()=>{let n=[];return n.push({text:"Commentaire",color:"secondary",statut:"COMMENTAIRE"}),g.value=="EN_ATTENTE"?B&&n.push({...z("PREPARER"),statut:"PREPARER"}):(g.value=="PREPARER"||g.value=="REPORTE")&&(B||x)?n.push({statut:"EN_COURS_RETOUR",...z("EN_COURS_RETOUR")}):g.value=="EN_COURS_RETOUR"&&B&&(n.push({statut:"REPORTE",...z("REPORTE")}),n.push({...z("RETOURNER"),statut:"RETOURNER"})),n});return(n,p)=>{const b=Ge,s=ie,v=Oe,r=we;return e(k)?(c(),U("div",Ke,[e(o).statut=="PREPARER"&&e(V)?(c(),R(b,{key:0,"is-show-entrepot":e(V),"onUpdate:isShowEntrepot":p[0]||(p[0]=i=>T(V)?V.value=i:null),"hide-entrepot":"",item:e(S),onHideEntrepot:y,onGetItemData:p[1]||(p[1]=i=>j("getItemData"))},null,8,["is-show-entrepot","item"])):(c(),R(ye,{key:1,ref_key:"refForm",ref:w,class:"mt-3"},{default:l(()=>[a("p",We," Statut à envoyer : "+h(("statutInfos"in n?n.statutInfos:e(z))(e(o).statut).text),1),e(o).statut=="RETOURNER"?(c(),U("div",Ye,[t(P,{class:"d-flex align-center justify-center"},{default:l(()=>[t(E,{md:"6",cols:"12"},{default:l(()=>[t(s,{modelValue:e(o).nombre_colis_ramasseur,"onUpdate:modelValue":p[2]||(p[2]=i=>e(o).nombre_colis_ramasseur=i),rules:["requiredValidator"in n?n.requiredValidator:e(Z)],placeholder:"Nombre de colis",label:"Nombre de colis",type:"number"},null,8,["modelValue","rules"])]),_:1})]),_:1})])):A("",!0),e(o).statut=="REPORTE"?(c(),U("div",Je,[t(P,{class:"d-flex align-center justify-center"},{default:l(()=>[t(E,{md:"6",cols:"12"},{default:l(()=>[t(v,{modelValue:e(o).date,"onUpdate:modelValue":p[3]||(p[3]=i=>e(o).date=i),rules:["requiredValidator"in n?n.requiredValidator:e(Z)],label:"Date & TIme",placeholder:"Select date and time",config:{enableTime:!1,dateFormat:"Y-m-d"}},null,8,["modelValue","rules"])]),_:1})]),_:1})])):A("",!0),a("div",null,[t(P,{class:"d-flex align-center justify-center"},{default:l(()=>[t(E,{md:"6",cols:"12"},{default:l(()=>[t(r,{modelValue:e(o).commentaire,"onUpdate:modelValue":p[4]||(p[4]=i=>e(o).commentaire=i),rows:"2","row-height":"20",label:"Commentaire",rules:["COMMENTAIRE","REPORTE","ANNULE"].includes(e(o).statut)?["requiredValidator"in n?n.requiredValidator:e(Z)]:[],placeholder:"Commentaire"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),t(P,null,{default:l(()=>[t(E,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[t(O,{color:"secondary",onClick:p[5]||(p[5]=i=>k.value=!1)},{default:l(()=>p[6]||(p[6]=[C(" retour ")])),_:1}),t(O,{loading:e(_)==e(o).statut,onClick:G},{default:l(()=>p[7]||(p[7]=[C(" Envoyer ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512))])):(c(),R(P,{key:0,class:"text-center v-row m-0"},{default:l(()=>[(c(!0),U(ee,null,se(e(N),(i,D)=>(c(),R(E,{key:D,cols:"6"},{default:l(()=>[t(O,{color:i.color,loading:e(_)==i.statut,style:{width:"inherit"},onClick:L=>I(i.statut)},{default:l(()=>[C(h(i.text),1)]),_:2},1032,["color","loading","onClick"])]),_:2},1024))),128)),e(N).length==0?(c(),U("div",He," Aucune action requise ")):A("",!0)]),_:1}))}}},Xe={key:0,class:"text-end position-absolute right-0"},Ze={class:"text-body-1 mb-2"},et={class:"text-body-1 mb-2"},tt={class:"text-body-1 mb-2"},lt={key:0},st={class:"text-body-1 mb-2"},at={class:"text-body-1 mb-2"},ot={class:"text-body-1 mb-2"},rt={class:"text-body-1 mb-2"},nt={class:"text-body-1 mb-2"},ut={class:"text-body-1 mb-2"},it={__name:"ShowRetour",props:{id:{type:Object,required:!1},isShowItem:{type:Boolean,required:!0}},emits:["update:isShowItem","fetchItems"],async setup(Y,{emit:F}){let $,j;const S=Y,g=F;let k={id:"",nom_vendeur:"",tel_vendeur:"",frais_ramasseur:"",tel_ramasseur:"",tarif_id:"",adresse:"",ramasseur:"",ramasseur_id:"",statut:"",vendeur:"",nombre_colis:"",colis:[],histories:[]};const w=([$,j]=be(()=>J("/api/ramasseurs").then(b=>b.data)),$=await $,j(),$),o=m(structuredClone(me(k))),y=m(!1),_=async b=>{y.value=!0,await J("/api/retour/"+b).then(async s=>{s.status===200&&(o.value=s.data),y.value=!1}).catch(s=>{y.value=!1,s.response&&s.response.status===422?q.error(s.response.data.message):q.error("something wrong")})};le(()=>S.id,b=>{_(b)},{immediate:!0});const V=()=>{g("update:isShowItem",!1),g("fetchItems"),o.value=structuredClone(me(k))},I=m(!1),G=H("gestionnaire","action"),K=H("livreur","action"),B=b=>{I.value=!0,J({method:"POST",url:"/api/parametrerRetour",data:{id:o.value.id,ramasseur_id:o.value.ramasseur_id,frais_ramasseur:o.value.frais_ramasseur}}).then(async s=>{I.value=!1,s.status===200&&q.success(s.data),_(o.value.id),n.value=!1}).catch(s=>{I.value=!1,s.response&&s.response.status===422?q.error(s.response.data.message):q.error("something wrong")})},x=m("Actions"),N=["tabler-adjustments-share","tabler-logs"],n=m(!1),p=[{title:"code",key:"code"},{title:"destination",key:"destination"}];return(b,s)=>{const v=Ee,r=Qe,i=Pe,D=Ve,L=ie,W=Ae;return c(),R(ke,{width:b.$vuetify.display.smAndDown?"auto":900,"model-value":S.isShowItem,scrollable:"","onUpdate:modelValue":V},{default:l(()=>[t(v,{onClick:V}),t(W,{title:"Details Retour",loading:e(y),style:{overflow:"scroll","max-height":"90vh"},"no-actions":""},{default:l(()=>[t(ne,null,{default:l(()=>[pe(t(oe,null,{default:l(()=>[e(G)?(c(),U("div",Xe,[t(O,{icon:"",class:"rounded-0",onClick:s[0]||(s[0]=f=>n.value=!0)},{default:l(()=>[t(ae,{size:"22",icon:"tabler-settings"})]),_:1})])):A("",!0),t(P,null,{default:l(()=>[t(E,{cols:"12",lg:"6"},{default:l(()=>[t(ge,{class:"billing-address-table"},{default:l(()=>[a("tr",null,[s[7]||(s[7]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Code : ")],-1)),a("td",null,[a("p",Ze,h(e(o).code),1)])]),a("tr",null,[s[8]||(s[8]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Ramasseur : ")],-1)),a("td",null,[a("p",et,h(e(o).ramasseur),1)])]),a("tr",null,[s[9]||(s[9]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Tel Ramasseur: ")],-1)),a("td",null,[a("p",tt,h(e(o).tel_ramasseur),1)])]),e(K)?(c(),U("tr",lt,[s[10]||(s[10]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Frais de retour: ")],-1)),a("td",null,[a("p",st,h(e(o).frais_ramasseur),1)])])):A("",!0),a("tr",null,[s[11]||(s[11]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Destination : ")],-1)),a("td",null,[a("p",at,h(e(o).destination),1)])]),a("tr",null,[s[12]||(s[12]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Statut: ")],-1)),a("td",null,[a("p",ot,[t(Re,re(("statutInfos"in b?b.statutInfos:e(z))(e(o).statut),{density:"default",label:"",size:"small"}),null,16)])])])]),_:1})]),_:1}),t(E,{cols:"12",lg:"6"},{default:l(()=>[t(ge,{class:"billing-address-table"},{default:l(()=>[a("tr",null,[s[13]||(s[13]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Vendeur: ")],-1)),a("td",null,[a("p",rt,h(e(o).vendeur),1)])]),a("tr",null,[s[14]||(s[14]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Tel Vendeur: ")],-1)),a("td",null,[a("p",nt,h(e(o).tel_vendeur),1)])]),a("tr",null,[s[15]||(s[15]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Colis: ")],-1)),a("td",null,[a("p",ut,h(e(o).nombre_colis),1)])])]),_:1})]),_:1})]),_:1}),t($e,{modelValue:e(x),"onUpdate:modelValue":s[1]||(s[1]=f=>T(x)?x.value=f:null),grow:"",class:"disable-tab-transition",stacked:""},{default:l(()=>[(c(),U(ee,null,se(N,(f,u)=>t(Ue,{key:u},{default:l(()=>[t(ae,{size:"40",icon:f},null,8,["icon"])]),_:2},1024)),64))]),_:1},8,["modelValue"]),t(De,{modelValue:e(x),"onUpdate:modelValue":s[3]||(s[3]=f=>T(x)?x.value=f:null),class:"mt-3"},{default:l(()=>[t(fe,null,{default:l(()=>[t(r,{id:e(o).id,"current-statut":e(o).statut,item:e(o),onGetItemData:s[2]||(s[2]=f=>_(e(o).id))},null,8,["id","current-statut","item"])]),_:1}),t(fe,null,{default:l(()=>[t(i,{histories:e(o).histories},null,8,["histories"])]),_:1})]),_:1},8,["modelValue"]),t(ue,{color:"white",thickness:"1",opacity:"0.2",class:"my-6"}),t(qe,{headers:p,items:e(o).colis,"items-per-page":5},null,8,["items"])]),_:1},512),[[ce,!e(n)]]),e(G)?pe((c(),R(oe,{key:0},{default:l(()=>[t(P,null,{default:l(()=>[t(E,{md:"6",cols:"12"},{default:l(()=>[t(D,{modelValue:e(o).ramasseur_id,"onUpdate:modelValue":s[4]||(s[4]=f=>e(o).ramasseur_id=f),placeholder:"Ramasseurs",label:"Ramasseurs",items:e(w),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),t(E,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:e(o).frais_ramasseur,"onUpdate:modelValue":s[5]||(s[5]=f=>e(o).frais_ramasseur=f),rules:["requiredValidator"in b?b.requiredValidator:e(Z)],label:"Frais de retour",type:"number",placeholder:"Frais de retour"},null,8,["modelValue","rules"])]),_:1})]),_:1}),t(P,null,{default:l(()=>[t(E,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[t(O,{color:"secondary",onClick:s[6]||(s[6]=f=>n.value=!1)},{default:l(()=>s[16]||(s[16]=[C(" retour ")])),_:1}),t(O,{loading:e(I),onClick:B},{default:l(()=>s[17]||(s[17]=[C(" Envoyer ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)),[[ce,e(n)]]):A("",!0)]),_:1})]),_:1},8,["loading"])]),_:1},8,["width","model-value"])}}},dt={class:"d-flex flex-wrap gap-4 ma-6"},mt={class:"d-flex gap-4 flex-wrap align-center"},pt={key:1},Ht={__name:"list",async setup(Y){let F,$;const j=[{title:"code",key:"code",sortable:!1},{title:"Statut",key:"statut",sortable:!1},{title:"destination",key:"destination",sortable:!1},{title:"Nombre de colis",key:"nombre_colis",sortable:!1},{title:"Vendeur",key:"vendeur",sortable:!1},{title:"actions",key:"actions",sortable:!1}],S=m(),g=m(),k=m(!1),w=m(!1),o=m(),y=m(5),_=m(1),V=m(),I=m(),G=f=>{w.value=!0,o.value=f},K=async()=>{let f="/api/retour/"+o.value.id;k.value=!0,J({method:"DELETE",url:f}).then(async u=>{u.status===200&&(w.value=!1,q.success(u.data),b()),k.value=!1}).catch(u=>{k.value=!1})},B=f=>{var u,Q;V.value=(u=f.sortBy[0])==null?void 0:u.key,I.value=(Q=f.sortBy[0])==null?void 0:Q.order},{data:x,error:N,statusCode:n,isFetching:p,execute:b}=([F,$]=be(()=>Le(Be("/api/retour",{query:{code:S,statut:g,page:_,itemsPerPage:y,sortBy:V,orderBy:I}}))),F=await F,$(),F),s=Ie(),v=M(()=>x.value.items),r=M(()=>x.value.total),i=m(!1),D=m(0),L=m(0),W=f=>{L.value=f.id,D.value++,i.value=!0};return(f,u)=>{const Q=Ve,Ce=ie,de=Te("IconBtn"),xe=je,he=Ee,Se=it;return c(),U("div",null,[t(ne,{title:"Filtres",class:"mb-6 d-print-none"},{default:l(()=>[t(oe,null,{default:l(()=>[t(P,null,{default:l(()=>[t(E,{cols:"12",sm:"3"},{default:l(()=>[t(Q,{modelValue:e(g),"onUpdate:modelValue":u[0]||(u[0]=d=>T(g)?g.value=d:null),placeholder:"Statut",items:e(Ne),clearable:"","clear-icon":"tabler-x"},{item:l(({item:d,props:te})=>[t(_e,re(te,{title:("statutInfos"in f?f.statutInfos:e(z))(d.value).text}),null,16,["title"])]),selection:l(({item:d})=>[C(h(("statutInfos"in f?f.statutInfos:e(z))(d.value).text),1)]),_:1},8,["modelValue","items"])]),_:1}),t(E,{cols:"12",sm:"2"},{default:l(()=>[t(Ce,{modelValue:e(S),"onUpdate:modelValue":u[1]||(u[1]=d=>T(S)?S.value=d:null),placeholder:"Code"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(ue),a("div",dt,[t(Me),a("div",mt,[t(Q,{modelValue:e(y),"onUpdate:modelValue":u[2]||(u[2]=d=>T(y)?y.value=d:null),items:[5,10,20,25,50]},null,8,["modelValue"]),e(H)("create","retour")?(c(),R(O,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:u[3]||(u[3]=d=>e(s).push({name:"retour-add"}))},{default:l(()=>u[11]||(u[11]=[C(" Ajouter Retour ")])),_:1})):A("",!0)])]),t(ue,{class:"mt-4"}),t(Fe,{"items-per-page":e(y),"onUpdate:itemsPerPage":u[5]||(u[5]=d=>T(y)?y.value=d:null),page:e(_),"onUpdate:page":u[6]||(u[6]=d=>T(_)?_.value=d:null),loading:e(p),headers:j,items:e(v),"items-length":e(r),class:"text-no-wrap",locale:"fr","onUpdate:options":B},{"item.code":l(({item:d})=>[e(H)("show","retour")?(c(),R(O,{key:0,variant:"text",onClick:te=>W(d)},{default:l(()=>[C(h(d.code),1)]),_:2},1032,["onClick"])):(c(),U("span",pt,h(d.code),1))]),"item.statut":l(({item:d})=>[t(Re,re(("statutInfos"in f?f.statutInfos:e(z))(d.statut),{density:"default",label:"",size:"small"}),null,16)]),"item.actions":l(({item:d})=>[d.statut=="EN_ATTENTE"&&e(H)("update","retour")?(c(),R(de,{key:0,onClick:te=>e(s).push("/retour/"+d.id)},{default:l(()=>[t(ae,{icon:"tabler-edit"})]),_:2},1032,["onClick"])):A("",!0),d.statut=="EN_ATTENTE"?(c(),R(de,{key:1},{default:l(()=>[t(ae,{icon:"tabler-dots-vertical"}),t(ze,{activator:"parent"},{default:l(()=>[t(X,null,{default:l(()=>[e(H)("delete","retour")?(c(),R(_e,{key:0,value:"delete","prepend-icon":"tabler-trash",onClick:te=>G(d)},{default:l(()=>u[12]||(u[12]=[C(" Delete ")])),_:2},1032,["onClick"])):A("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):A("",!0)]),bottom:l(()=>[t(xe,{page:e(_),"onUpdate:page":u[4]||(u[4]=d=>T(_)?_.value=d:null),"items-per-page":e(y),"total-items":e(r)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items","items-length"]),t(ke,{modelValue:e(w),"onUpdate:modelValue":u[9]||(u[9]=d=>T(w)?w.value=d:null),persistent:"",class:"v-dialog-sm"},{default:l(()=>[t(he,{onClick:u[7]||(u[7]=d=>w.value=!e(w))}),t(ne,{title:"Êtes-vous sûr de vouloir supprimer le retour "+e(o).code+" ?"},{default:l(()=>[t(oe,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[t(O,{color:"secondary",variant:"tonal",onClick:u[8]||(u[8]=d=>w.value=!1)},{default:l(()=>u[13]||(u[13]=[C(" Non ")])),_:1}),t(O,{loading:e(k),onClick:K},{default:l(()=>u[14]||(u[14]=[C(" Oui ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1}),e(i)?(c(),R(Se,{id:e(L),key:e(D),"is-show-item":e(i),"onUpdate:isShowItem":u[10]||(u[10]=d=>T(i)?i.value=d:null),onFetchItems:e(b)},null,8,["id","is-show-item","onFetchItems"])):A("",!0)])}}};export{Ht as default};
