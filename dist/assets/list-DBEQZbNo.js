import{a as R,_ as S,c as j}from"./VDataTableServer-CxmGFr4C.js";import{_ as q}from"./AppSelect-dD7y6n_z.js";import{_ as h}from"./AppTextField-D8fU3XDA.js";import{r as i,aq as E,j as O,Y as k,a as Y,c as z,o as c,b as o,e as s,d as b,ak as n,n as t,f as B,m as C,A as P,ai as G,v as H,$ as J}from"./index-zlWi7S3f.js";import{u as K}from"./index-Cj16s3tB.js";import{V as L}from"./VCardText-BQSQr54H.js";import{V as M,a as U}from"./VRow-szZqHLmm.js";import{V as w}from"./VDivider-DBe7lXGo.js";import{V as Q}from"./VSpacer-DzDDFEUH.js";import{V as W}from"./VCard-BLwT3Pm5.js";import"./VSelect-njk6i2eQ.js";import"./VTextField-DqeBEujr.js";import"./VImg-CGMeVkM5.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-CvK0urPf.js";import"./VAvatar-8sdawLAf.js";import"./VOverlay-aP4zLsc2.js";import"./VMenu-VxWXDAy5.js";import"./VChip-BV7mf8e_.js";import"./filter-oTBiBFJs.js";import"./toast-DyK4obtI.js";/* empty css              */const X={class:"d-flex flex-wrap gap-4 ma-6"},Z={class:"d-flex gap-4 flex-wrap align-center"},we={__name:"list",async setup(ee){let p,V;const A=[{title:"destination",key:"destination",sortable:!1},{title:"tarif",key:"tarif",sortable:!1},{title:"prefix",key:"prefix",sortable:!1},{title:"delai de livraison",key:"delai_livraison",sortable:!1},{title:"actions",key:"actions",sortable:!1}],d=i(),u=i(),l=i(5),r=i(1),_=i(),g=i(),T=f=>{var e,m;_.value=(e=f.sortBy[0])==null?void 0:e.key,g.value=(m=f.sortBy[0])==null?void 0:m.order},{data:v,error:te,statusCode:ae,isFetching:$,execute:oe}=([p,V]=E(()=>K(j("/api/tarifs",{query:{destination:d,prefix:u,page:r,itemsPerPage:l,sortBy:_,orderBy:g}}))),p=await p,V(),p),x=O(),D=k(()=>v.value.items),y=k(()=>v.value.total);return(f,e)=>{const m=h,I=q,N=Y("IconBtn"),F=S;return c(),z("div",null,[o(W,{title:"Filtres",class:"mb-6"},{default:s(()=>[o(L,null,{default:s(()=>[o(M,null,{default:s(()=>[o(U,{cols:"12",sm:"2"},{default:s(()=>[o(m,{modelValue:t(d),"onUpdate:modelValue":e[0]||(e[0]=a=>n(d)?d.value=a:null),placeholder:"Destination"},null,8,["modelValue"])]),_:1}),o(U,{cols:"12",sm:"2"},{default:s(()=>[o(m,{modelValue:t(u),"onUpdate:modelValue":e[1]||(e[1]=a=>n(u)?u.value=a:null),placeholder:"Prefix"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(w),b("div",X,[o(Q),b("div",Z,[o(I,{modelValue:t(l),"onUpdate:modelValue":e[2]||(e[2]=a=>n(l)?l.value=a:null),items:[5,10,20,25,50]},null,8,["modelValue"]),t(P)("create","tarif")?(c(),B(G,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:e[3]||(e[3]=a=>t(x).push({name:"tarif-add"}))},{default:s(()=>e[7]||(e[7]=[H(" Ajouter Tarif ")])),_:1})):C("",!0)])]),o(w,{class:"mt-4"}),o(R,{"items-per-page":t(l),"onUpdate:itemsPerPage":e[5]||(e[5]=a=>n(l)?l.value=a:null),page:t(r),"onUpdate:page":e[6]||(e[6]=a=>n(r)?r.value=a:null),loading:t($),headers:A,items:t(D),"items-length":t(y),class:"text-no-wrap",locale:"fr","onUpdate:options":T},{"item.actions":s(({item:a})=>[t(P)("update","tarif")?(c(),B(N,{key:0,onClick:se=>t(x).push("/tarif/"+a.id)},{default:s(()=>[o(J,{icon:"tabler-edit"})]),_:2},1032,["onClick"])):C("",!0)]),bottom:s(()=>[o(F,{page:t(r),"onUpdate:page":e[4]||(e[4]=a=>n(r)?r.value=a:null),"items-per-page":t(l),"total-items":t(y)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items","items-length"])]),_:1})])}}};export{we as default};
