import{r as n,V as x}from"./VForm-ByDnFICH.js";import{_ as q}from"./AppTextField-B71EgLUu.js";import{j as g,r as c,w as T,c as b,o as w,d as m,b as e,x as j,e as l,n as i,ai as F,v as C,F as S}from"./index-CDDwny-K.js";import{$ as U}from"./api-CmUFIEMg.js";import{t as _}from"./toast-Dv8jPkVd.js";import{V as p,a as u}from"./VRow-BSePUP6J.js";import{V as P}from"./VCard-DKep4z2G.js";import{V as $}from"./VCardText-C4f9vuwE.js";const k={class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},B={class:"d-flex flex-column justify-center"},D={class:"text-h4 font-weight-medium"},G={__name:"FormTarif",props:{method:{type:String,required:!0},item:{type:Object,required:!1},identity:{type:String,required:!1}},setup(h){const d=h,v=g(),f=c(),o=c({destination:"",tarif:"",delai_livraison:"",prefix:""});T(()=>d.item,r=>{d.method=="PUT"&&(o.value={...r})},{immediate:!0});const y=async()=>{console.log(o.value);const{valid:r}=await f.value.validate();if(r){let a="/api/tarifs";d.method=="PUT"&&(a="/api/tarifs/"+d.identity),U({method:d.method,url:a,data:o.value}).then(async s=>{var t;s.status===200&&(_.success(s.data),d.method=="POST"?(t=f.value)==null||t.reset():v.push({name:"tarif-list"}))}).catch(s=>{if(s.response&&s.response.status===422){const t=s.response.data.errors;for(let V in t)_.error(`${V}: ${t[V].join(", ")}`)}})}};return(r,a)=>{const s=q;return w(),b(S,null,[m("div",k,[m("div",B,[m("h4",D,j(d.method=="POST"?"Ajouter Tarif":"Modifier Tarif"),1)])]),e(x,{ref_key:"refForm",ref:f,class:"mt-3"},{default:l(()=>[e(p,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(P,null,{default:l(()=>[e($,{class:"pt-2"},{default:l(()=>[e(p,null,{default:l(()=>[e(u,{md:"6",cols:"12"},{default:l(()=>[e(s,{modelValue:i(o).destination,"onUpdate:modelValue":a[0]||(a[0]=t=>i(o).destination=t),rules:["requiredValidator"in r?r.requiredValidator:i(n)],placeholder:"Destination",label:"Destination"},null,8,["modelValue","rules"])]),_:1}),e(u,{md:"6",cols:"12"},{default:l(()=>[e(s,{modelValue:i(o).tarif,"onUpdate:modelValue":a[1]||(a[1]=t=>i(o).tarif=t),rules:["requiredValidator"in r?r.requiredValidator:i(n)],placeholder:"tarif",label:"tarif"},null,8,["modelValue","rules"])]),_:1}),e(u,{md:"6",cols:"12"},{default:l(()=>[e(s,{modelValue:i(o).prefix,"onUpdate:modelValue":a[2]||(a[2]=t=>i(o).prefix=t),rules:["requiredValidator"in r?r.requiredValidator:i(n)],placeholder:"ex : CAZN",label:"Prefix"},null,8,["modelValue","rules"])]),_:1}),e(u,{md:"6",cols:"12"},{default:l(()=>[e(s,{modelValue:i(o).delai_livraison,"onUpdate:modelValue":a[3]||(a[3]=t=>i(o).delai_livraison=t),rules:["requiredValidator"in r?r.requiredValidator:i(n)],placeholder:"ex : 24h",label:"dÃ©lai de livraison"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(u,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[e(F,{onClick:y},{default:l(()=>a[4]||(a[4]=[C(" Enregistrer ")])),_:1})]),_:1})]),_:1})]),_:1},512)],64)}}};export{G as _};
