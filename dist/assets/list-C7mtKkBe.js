import{V as F,_ as R,c as S}from"./VDataTableServer-DbCqujNz.js";import{_ as Z}from"./AppSelect-zFLYJ9eC.js";import{_ as j}from"./AppTextField-DlXfUlTR.js";import{r as n,aq as q,j as h,Y as k,a as E,c as O,o as f,b as a,e as l,d as b,ak as i,n as t,f as B,m as C,A as z,ai as Y,v as G,$ as H}from"./index-Dy7Usk4l.js";import{u as J}from"./index-6mxt0aF2.js";import{V as K}from"./VCardText-BJYEBQo3.js";import{V as L,a as P}from"./VRow-TJvxsZ_y.js";import{V as U}from"./VDivider-BP5tiXxX.js";import{V as M}from"./VSpacer-B3LBRedx.js";import{V as Q}from"./VCard-CeZuMw9F.js";import"./VDataTable-Cn6Ricxf.js";import"./VSelect-L2jyr6ga.js";import"./VTextField-CS2auMSB.js";import"./VInput-DYCyGubC.js";import"./VImg-PvuHZpPc.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-CoYFBUIe.js";import"./VAvatar-CRIGdohP.js";import"./VOverlay-DlNjFQ7t.js";import"./VMenu-CHE0SPqv.js";import"./VCheckboxBtn-DZVWJIp7.js";import"./VSelectionControl-D23KI5kr.js";import"./VChip-BSfE2IS9.js";import"./VSlideGroup-BVkuM_qe.js";import"./VTable-D2Bc35sF.js";import"./filter-BNkad7X9.js";import"./toast-DuLiNZ_C.js";/* empty css              */const W={class:"d-flex flex-wrap gap-4 ma-6"},X={class:"d-flex gap-4 flex-wrap align-center"},Ne={__name:"list",async setup(ee){let p,V;const w=[{title:"zone",key:"zone",sortable:!1},{title:"Ville",key:"ville",sortable:!1},{title:"prefix",key:"prefix",sortable:!1},{title:"delai de livraison",key:"delai_livraison",sortable:!1},{title:"actions",key:"actions",sortable:!1}],d=n(),u=n(),s=n(5),r=n(1),_=n(),g=n(),A=c=>{var e,m;_.value=(e=c.sortBy[0])==null?void 0:e.key,g.value=(m=c.sortBy[0])==null?void 0:m.order},{data:v,error:te,statusCode:oe,isFetching:$,execute:ae}=([p,V]=q(()=>J(S("/api/zones",{query:{zone:d,prefix:u,page:r,itemsPerPage:s,sortBy:_,orderBy:g}}))),p=await p,V(),p),x=h(),T=k(()=>v.value.items),y=k(()=>v.value.total);return(c,e)=>{const m=j,I=Z,N=E("IconBtn"),D=R;return f(),O("div",null,[a(Q,{title:"Filtres",class:"mb-6"},{default:l(()=>[a(K,null,{default:l(()=>[a(L,null,{default:l(()=>[a(P,{cols:"12",sm:"2"},{default:l(()=>[a(m,{modelValue:t(d),"onUpdate:modelValue":e[0]||(e[0]=o=>i(d)?d.value=o:null),placeholder:"Zone"},null,8,["modelValue"])]),_:1}),a(P,{cols:"12",sm:"2"},{default:l(()=>[a(m,{modelValue:t(u),"onUpdate:modelValue":e[1]||(e[1]=o=>i(u)?u.value=o:null),placeholder:"Prefix"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(U),b("div",W,[a(M),b("div",X,[a(I,{modelValue:t(s),"onUpdate:modelValue":e[2]||(e[2]=o=>i(s)?s.value=o:null),items:[5,10,20,25,50]},null,8,["modelValue"]),t(z)("create","zone")?(f(),B(Y,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:e[3]||(e[3]=o=>t(x).push({name:"zone-add"}))},{default:l(()=>e[7]||(e[7]=[G(" Ajouter Zone ")])),_:1})):C("",!0)])]),a(U,{class:"mt-4"}),a(F,{"items-per-page":t(s),"onUpdate:itemsPerPage":e[5]||(e[5]=o=>i(s)?s.value=o:null),page:t(r),"onUpdate:page":e[6]||(e[6]=o=>i(r)?r.value=o:null),loading:t($),headers:w,items:t(T),"items-length":t(y),class:"text-no-wrap",locale:"fr","onUpdate:options":A},{"item.actions":l(({item:o})=>[t(z)("update","zone")?(f(),B(N,{key:0,onClick:le=>t(x).push("/zone/"+o.id)},{default:l(()=>[a(H,{icon:"tabler-edit"})]),_:2},1032,["onClick"])):C("",!0)]),bottom:l(()=>[a(D,{page:t(r),"onUpdate:page":e[4]||(e[4]=o=>i(r)?r.value=o:null),"items-per-page":t(s),"total-items":t(y)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items","items-length"])]),_:1})])}}};export{Ne as default};
