import{s as W}from"./statutInfos-BWJ2EfQa.js";import{r as Z,V as _e,$ as J}from"./VForm-Cq3Ud8bc.js";import{r as d,w as te,Y as M,c as A,o as p,b as t,F as ee,h as le,f as k,e as l,v as x,x as T,n as e,ak as I,d as a,m as $,ai as P,A as G,aq as ge,as as de,J as me,$ as se,s as ye,K as pe,j as he,a as Te}from"./index-AFclKSR7.js";import{_ as Ie,V as Ae,a as $e,b as Ue,c as ce,d as De}from"./VTabs-69nHgKJg.js";import{_ as ne}from"./AppTextField-DUGgtO2g.js";import{_ as be}from"./AppSelect-Du5adiPh.js";import{_ as Ve}from"./AppTextarea-CMC7IWXa.js";import{_ as Pe}from"./AppDateTimePicker-DsUPTCxE.js";import{t as N}from"./toast-DO2v-l4e.js";import{V as fe}from"./VAlert-CD7jtgP_.js";import{V as q,a as E}from"./VRow-CHOMieTn.js";import{V as X,a as Oe}from"./VList-CCzHfilh.js";import{_ as we}from"./DialogCloseBtn-DzYXhcYP.js";import{_ as Ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as oe}from"./VCard-DvDMA-YT.js";import{V as ae}from"./VCardText-MbsNng7n.js";import{V as ve,a as qe}from"./VDataTable-ByykQiB5.js";import{V as Ee}from"./VChip-Cf7qKl4a.js";import{V as re}from"./VDivider-Bs5rWrNF.js";import{V as Re}from"./VDialog-BcDL8NDF.js";import{V as Fe,_ as je,c as Be}from"./VDataTableServer-DNsjtEWb.js";import{u as Le}from"./index-Dr-JgV-i.js";import{V as Me}from"./VSpacer-DjZCbS6E.js";import{V as ze}from"./VMenu-CpEhrxaz.js";import"./VInput-tctzcLUr.js";import"./VImg-BIM37CCd.js";import"./forwardRefs-DWGaNmQL.js";import"./VOverlay-5K06fWrB.js";import"./VTextField-D0JQPs88.js";import"./VSelect-BlxSZfVV.js";import"./VAvatar-BLWrssMY.js";/* empty css              */import"./filter-DtFQEqnM.js";const Ge={__name:"Preparer",props:{item:{type:Object,required:!0},isShowEntrepot:{type:Boolean,required:!0}},emits:["hideEntrepot","getItemData"],setup(Y,{emit:F}){const U=Y,j=F,S=d({}),g=d("");te(()=>U.item,f=>{S.value=f},{immediate:!0});const R=d(),w=d(!1),o=d([]),y=d([]),_=d([]),V=d(!1),h=d(!1),z=async()=>{const{valid:f}=await R.value.validate();f&&await B()},H=()=>{j("hideEntrepot")},B=f=>{w.value=!0,V.value=!1,V.value=!1,J({method:"POST",url:"/api/scannerPreparer",data:{retour_id:S.value.id,scannedColis:O.value,commonColis:s.value,duplicatedColis:n.value,externeColis:m.value,missingColis:b.value}}).then(async r=>{if(r.status===200){let i=r.data;console.log(i),o.value=i.success,y.value=i.errors,_.value=i.colisError,V.value=!0,h.value=y.value.length==0,y.value.length==0&&j("getItemData")}w.value=!1}).catch(r=>{w.value=!1,r.response&&r.response.status===422?N.error(r.response.data.message):N.error("something wrong")})},C=M(()=>S.value.colis.map(f=>f.code)),O=M(()=>g.value?g.value.split(`
`).map(f=>f.trim()).filter(f=>f.length>0):[]),n=M(()=>O.value.filter((f,r,i)=>i.indexOf(f)!==r)),m=M(()=>{const f=new Set(C.value);let r=O.value.filter(i=>!f.has(i));return r=new Set(r),[...r]}),b=M(()=>{const f=new Set(O.value);return C.value.filter(r=>!f.has(r))}),s=M(()=>{const f=new Set(C.value),r=new Set(O.value);return[...f].filter(i=>r.has(i))});return(f,r)=>{const i=Ve;return p(),A(ee,null,[(p(!0),A(ee,null,le(e(o),(D,L)=>(p(),k(fe,{key:L,modelValue:e(h),"onUpdate:modelValue":r[0]||(r[0]=K=>I(h)?h.value=K:null),color:"success",class:"ma-1"},{default:l(()=>[x(T(D),1)]),_:2},1032,["modelValue"]))),128)),(p(!0),A(ee,null,le(e(y),(D,L)=>(p(),k(fe,{key:L,modelValue:e(V),"onUpdate:modelValue":r[1]||(r[1]=K=>I(V)?V.value=K:null),color:"error",class:"ma-1"},{default:l(()=>[x(T(D),1)]),_:2},1032,["modelValue"]))),128)),t(_e,{ref_key:"refForm",ref:R,class:"mt-3"},{default:l(()=>[a("div",null,[t(q,{class:"d-flex align-center justify-center"},{default:l(()=>[t(E,{cols:"12"},{default:l(()=>[t(i,{modelValue:e(g),"onUpdate:modelValue":r[2]||(r[2]=D=>I(g)?g.value=D:null),rows:"5","row-height":"20",label:"Scanner",rules:["requiredValidator"in f?f.requiredValidator:e(Z)],placeholder:"Select pour scanner"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),t(q,null,{default:l(()=>[e(_).length>0?(p(),k(E,{key:0,cols:"12",md:"3"},{default:l(()=>[r[3]||(r[3]=a("p",{class:"text-error"}," Colis erroné ",-1)),t(X,{items:e(_),class:"border border-error border-opacity-75"},null,8,["items"])]),_:1})):$("",!0),e(n).length>0?(p(),k(E,{key:1,cols:"12",md:"3"},{default:l(()=>[r[4]||(r[4]=a("p",{class:"text-error"}," Colis dupliqués ",-1)),t(X,{items:e(n),class:"border border-error border-opacity-75"},null,8,["items"])]),_:1})):$("",!0),t(E,{cols:"12",md:"3"},{default:l(()=>[r[5]||(r[5]=x(" Colis manquant ")),t(X,{items:e(b)},null,8,["items"])]),_:1}),e(m).length>0?(p(),k(E,{key:2,cols:"12",md:"3"},{default:l(()=>[r[6]||(r[6]=a("p",{class:"text-error"}," Colis externe ",-1)),t(X,{items:e(m),class:"border border-error border-opacity-75"},null,8,["items"])]),_:1})):$("",!0)]),_:1}),t(q,null,{default:l(()=>[t(E,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[t(P,{color:"secondary",onClick:H},{default:l(()=>r[7]||(r[7]=[x(" retour ")])),_:1}),t(P,{loading:e(w),onClick:z},{default:l(()=>r[8]||(r[8]=[x(" Envoyer ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)],64)}}},He={key:0,class:"text-center"},Ke={key:0},We={key:1},Ye={class:"text-center"},Je={key:0},Qe={key:1},Xe={__name:"actionsRetour",props:{currentStatut:{type:String,required:!0},item:{type:Object,required:!0},id:{type:Number,required:!0}},emits:["getItemData"],setup(Y,{emit:F}){const U=Y,j=F,S=d({}),g=d(""),R=d(!1),w=d(),o=d({id:null,statut:"",nombre_colis_ramasseur:"",commentaire:"",date:"",file:""}),y=()=>{R.value=!1,V.value=!1};te(()=>U.currentStatut,n=>{g.value=n},{immediate:!0}),te(()=>U.item,n=>{S.value=n},{immediate:!0});const _=d(""),V=d(!1),h=n=>{R.value=!0,o.value.statut=n,n=="PREPARER"&&(V.value=!0)},z=async()=>{const{valid:n}=await w.value.validate();n&&await H(o.value.statut)},H=async n=>{o.value.statut=n,o.value.id=U.id,_.value=n,J({method:"POST",url:"/api/updateStatutRetour",data:o.value}).then(async m=>{m.status===200&&(N.success(m.data),n!="COMMENTAIRE"&&(g.value=n),R.value=!1,j("getItemData")),_.value=""}).catch(m=>{_.value="",m.response&&m.response.status===422?N.error(m.response.data.message):N.error("something wrong")})},B=G("livreur","action"),C=G("gestionnaire","action"),O=M(()=>{let n=[];return n.push({text:"Commentaire",color:"secondary",statut:"COMMENTAIRE"}),g.value=="EN_ATTENTE"?B&&n.push({...W("PREPARER"),statut:"PREPARER"}):(g.value=="PREPARER"||g.value=="REPORTE")&&(B||C)?n.push({statut:"EN_COURS_RETOUR",...W("EN_COURS_RETOUR")}):g.value=="EN_COURS_RETOUR"&&B&&(n.push({statut:"REPORTE",...W("REPORTE")}),n.push({...W("RETOURNER"),statut:"RETOURNER"})),n});return(n,m)=>{const b=Ge,s=ne,f=Pe,r=Ve;return e(R)?(p(),A("div",We,[e(o).statut=="PREPARER"&&e(V)?(p(),k(b,{key:0,"is-show-entrepot":e(V),"onUpdate:isShowEntrepot":m[0]||(m[0]=i=>I(V)?V.value=i:null),"hide-entrepot":"",item:e(S),onHideEntrepot:y,onGetItemData:m[1]||(m[1]=i=>j("getItemData"))},null,8,["is-show-entrepot","item"])):(p(),k(_e,{key:1,ref_key:"refForm",ref:w,class:"mt-3"},{default:l(()=>[a("p",Ye," Statut à envoyer : "+T(("statutInfos"in n?n.statutInfos:e(W))(e(o).statut).text),1),e(o).statut=="RETOURNER"?(p(),A("div",Je,[t(q,{class:"d-flex align-center justify-center"},{default:l(()=>[t(E,{md:"6",cols:"12"},{default:l(()=>[t(s,{modelValue:e(o).nombre_colis_ramasseur,"onUpdate:modelValue":m[2]||(m[2]=i=>e(o).nombre_colis_ramasseur=i),rules:["requiredValidator"in n?n.requiredValidator:e(Z)],placeholder:"Nombre de colis",label:"Nombre de colis",type:"number"},null,8,["modelValue","rules"])]),_:1})]),_:1})])):$("",!0),e(o).statut=="REPORTE"?(p(),A("div",Qe,[t(q,{class:"d-flex align-center justify-center"},{default:l(()=>[t(E,{md:"6",cols:"12"},{default:l(()=>[t(f,{modelValue:e(o).date,"onUpdate:modelValue":m[3]||(m[3]=i=>e(o).date=i),rules:["requiredValidator"in n?n.requiredValidator:e(Z)],label:"Date & TIme",placeholder:"Select date and time",config:{enableTime:!0,dateFormat:"Y-m-d H:i"}},null,8,["modelValue","rules"])]),_:1})]),_:1})])):$("",!0),a("div",null,[t(q,{class:"d-flex align-center justify-center"},{default:l(()=>[t(E,{md:"6",cols:"12"},{default:l(()=>[t(r,{modelValue:e(o).commentaire,"onUpdate:modelValue":m[4]||(m[4]=i=>e(o).commentaire=i),rows:"2","row-height":"20",label:"Commentaire",rules:["COMMENTAIRE","REPORTE","ANNULE"].includes(e(o).statut)?["requiredValidator"in n?n.requiredValidator:e(Z)]:[],placeholder:"Commentaire"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),t(q,null,{default:l(()=>[t(E,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[t(P,{color:"secondary",onClick:m[5]||(m[5]=i=>R.value=!1)},{default:l(()=>m[6]||(m[6]=[x(" retour ")])),_:1}),t(P,{loading:e(_)==e(o).statut,onClick:z},{default:l(()=>m[7]||(m[7]=[x(" Envoyer ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512))])):(p(),A("div",He,[(p(!0),A(ee,null,le(e(O),(i,D)=>(p(),k(P,{key:D,color:i.color,class:"ma-1",loading:e(_)==i.statut,onClick:L=>h(i.statut)},{default:l(()=>[x(T(i.text),1)]),_:2},1032,["color","loading","onClick"]))),128)),e(O).length==0?(p(),A("div",Ke," Aucune action requise ")):$("",!0)]))}}},Ze={key:0,class:"text-end position-absolute right-0"},et={class:"text-body-1 mb-2"},tt={class:"text-body-1 mb-2"},lt={class:"text-body-1 mb-2"},st={key:0},at={class:"text-body-1 mb-2"},ot={class:"text-body-1 mb-2"},rt={class:"text-body-1 mb-2"},nt={class:"text-body-1 mb-2"},ut={class:"text-body-1 mb-2"},it={class:"text-body-1 mb-2"},dt={__name:"ShowRetour",props:{id:{type:Object,required:!1},isShowItem:{type:Boolean,required:!0}},emits:["update:isShowItem","fetchItems"],async setup(Y,{emit:F}){let U,j;const S=Y,g=F;let R={id:"",nom_vendeur:"",tel_vendeur:"",frais_ramasseur:"",tel_ramasseur:"",tarif_id:"",adresse:"",ramasseur:"",ramasseur_id:"",statut:"",vendeur:"",nombre_colis:"",colis:[],histories:[]};const w=([U,j]=ge(()=>J("/api/ramasseurs").then(b=>b.data)),U=await U,j(),U),o=d(structuredClone(de(R))),y=d(!1),_=async b=>{y.value=!0,await J("/api/retour/"+b).then(async s=>{s.status===200&&(o.value=s.data),y.value=!1}).catch(s=>{y.value=!1,s.response&&s.response.status===422?N.error(s.response.data.message):N.error("something wrong")})};te(()=>S.id,b=>{_(b)},{immediate:!0});const V=()=>{g("update:isShowItem",!1),g("fetchItems"),o.value=structuredClone(de(R))},h=d(!1),z=G("gestionnaire","action"),H=G("livreur","action"),B=b=>{h.value=!0,J({method:"POST",url:"/api/parametrerRetour",data:{id:o.value.id,ramasseur_id:o.value.ramasseur_id,frais_ramasseur:o.value.frais_ramasseur}}).then(async s=>{h.value=!1,s.status===200&&N.success(s.data),_(o.value.id),n.value=!1}).catch(s=>{h.value=!1,s.response&&s.response.status===422?N.error(s.response.data.message):N.error("something wrong")})},C=d("Actions"),O=["tabler-adjustments-share","tabler-logs"],n=d(!1),m=[{title:"code",key:"code"},{title:"destination",key:"destination"}];return(b,s)=>{const f=we,r=Xe,i=De,D=be,L=ne,K=Ie;return p(),k(Re,{width:b.$vuetify.display.smAndDown?"auto":900,"model-value":S.isShowItem,scrollable:"","onUpdate:modelValue":V},{default:l(()=>[t(f,{onClick:V}),t(K,{title:"Details Retour",loading:e(y),"no-actions":""},{default:l(()=>[t(oe,null,{default:l(()=>[me(t(ae,null,{default:l(()=>[e(z)?(p(),A("div",Ze,[t(P,{icon:"",class:"rounded-0",onClick:s[0]||(s[0]=v=>n.value=!0)},{default:l(()=>[t(se,{size:"22",icon:"tabler-settings"})]),_:1})])):$("",!0),t(q,null,{default:l(()=>[t(E,{cols:"12",lg:"6"},{default:l(()=>[t(ve,{class:"billing-address-table"},{default:l(()=>[a("tr",null,[s[7]||(s[7]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Code : ")],-1)),a("td",null,[a("p",et,T(e(o).code),1)])]),a("tr",null,[s[8]||(s[8]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Ramasseur : ")],-1)),a("td",null,[a("p",tt,T(e(o).ramasseur),1)])]),a("tr",null,[s[9]||(s[9]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Tel Ramasseur: ")],-1)),a("td",null,[a("p",lt,T(e(o).tel_ramasseur),1)])]),e(H)?(p(),A("tr",st,[s[10]||(s[10]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Frais de retour: ")],-1)),a("td",null,[a("p",at,T(e(o).frais_ramasseur),1)])])):$("",!0),a("tr",null,[s[11]||(s[11]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Destination : ")],-1)),a("td",null,[a("p",ot,T(e(o).destination),1)])]),a("tr",null,[s[12]||(s[12]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Statut: ")],-1)),a("td",null,[a("p",rt,[t(Ee,ye(("statutInfos"in b?b.statutInfos:e(W))(e(o).statut),{density:"default",label:"",size:"small"}),null,16)])])])]),_:1})]),_:1}),t(E,{cols:"12",lg:"6"},{default:l(()=>[t(ve,{class:"billing-address-table"},{default:l(()=>[a("tr",null,[s[13]||(s[13]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Vendeur: ")],-1)),a("td",null,[a("p",nt,T(e(o).vendeur),1)])]),a("tr",null,[s[14]||(s[14]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Tel Vendeur: ")],-1)),a("td",null,[a("p",ut,T(e(o).tel_vendeur),1)])]),a("tr",null,[s[15]||(s[15]=a("td",null,[a("h6",{class:"text-h6 text-no-wrap mb-2"}," Colis: ")],-1)),a("td",null,[a("p",it,T(e(o).nombre_colis),1)])])]),_:1})]),_:1})]),_:1}),t(Ae,{modelValue:e(C),"onUpdate:modelValue":s[1]||(s[1]=v=>I(C)?C.value=v:null),grow:"",class:"disable-tab-transition",stacked:""},{default:l(()=>[(p(),A(ee,null,le(O,(v,u)=>t($e,{key:u},{default:l(()=>[t(se,{size:"40",icon:v},null,8,["icon"])]),_:2},1024)),64))]),_:1},8,["modelValue"]),t(Ue,{modelValue:e(C),"onUpdate:modelValue":s[3]||(s[3]=v=>I(C)?C.value=v:null),class:"mt-3"},{default:l(()=>[t(ce,null,{default:l(()=>[t(r,{id:e(o).id,"current-statut":e(o).statut,item:e(o),onGetItemData:s[2]||(s[2]=v=>_(e(o).id))},null,8,["id","current-statut","item"])]),_:1}),t(ce,null,{default:l(()=>[t(i,{histories:e(o).histories},null,8,["histories"])]),_:1})]),_:1},8,["modelValue"]),t(re,{color:"white",thickness:"1",opacity:"0.2",class:"my-6"}),t(qe,{headers:m,items:e(o).colis,"items-per-page":5},null,8,["items"])]),_:1},512),[[pe,!e(n)]]),e(z)?me((p(),k(ae,{key:0},{default:l(()=>[t(q,null,{default:l(()=>[t(E,{md:"6",cols:"12"},{default:l(()=>[t(D,{modelValue:e(o).ramasseur_id,"onUpdate:modelValue":s[4]||(s[4]=v=>e(o).ramasseur_id=v),placeholder:"Ramasseurs",label:"Ramasseurs",items:e(w),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),t(E,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:e(o).frais_ramasseur,"onUpdate:modelValue":s[5]||(s[5]=v=>e(o).frais_ramasseur=v),rules:["requiredValidator"in b?b.requiredValidator:e(Z)],label:"Frais de retour",type:"number",placeholder:"Frais de retour"},null,8,["modelValue","rules"])]),_:1})]),_:1}),t(q,null,{default:l(()=>[t(E,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:l(()=>[t(P,{color:"secondary",onClick:s[6]||(s[6]=v=>n.value=!1)},{default:l(()=>s[16]||(s[16]=[x(" retour ")])),_:1}),t(P,{loading:e(h),onClick:B},{default:l(()=>s[17]||(s[17]=[x(" Envoyer ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)),[[pe,e(n)]]):$("",!0)]),_:1})]),_:1},8,["loading"])]),_:1},8,["width","model-value"])}}},mt=Ne(dt,[["__scopeId","data-v-5a7f9acb"]]),pt={class:"d-flex flex-wrap gap-4 ma-6"},ct={class:"d-flex gap-4 flex-wrap align-center"},ft={key:1},Wt={__name:"list",async setup(Y){let F,U;const j=[{title:"code",key:"code",sortable:!1},{title:"Statut",key:"statut",sortable:!1},{title:"destination",key:"destination",sortable:!1},{title:"Nombre de colis",key:"nombre_colis",sortable:!1},{title:"Vendeur",key:"vendeur",sortable:!1},{title:"actions",key:"actions",sortable:!1}],S=d(),g=d(),R=d(!1),w=d(!1),o=d(),y=d(5),_=d(1),V=d(),h=d(),z=v=>{w.value=!0,o.value=v},H=async()=>{let v="/api/retour/"+o.value.id;R.value=!0,J({method:"DELETE",url:v}).then(async u=>{u.status===200&&(w.value=!1,N.success(u.data),b()),R.value=!1}).catch(u=>{R.value=!1})},B=v=>{var u,Q;V.value=(u=v.sortBy[0])==null?void 0:u.key,h.value=(Q=v.sortBy[0])==null?void 0:Q.order},{data:C,error:O,statusCode:n,isFetching:m,execute:b}=([F,U]=ge(()=>Le(Be("/api/retour",{query:{code:S,statut:g,page:_,itemsPerPage:y,sortBy:V,orderBy:h}}))),F=await F,U(),F),s=he(),f=M(()=>C.value.items),r=M(()=>C.value.total),i=d(!1),D=d(0),L=d(0),K=v=>{L.value=v.id,D.value++,i.value=!0};return(v,u)=>{const Q=ne,ke=be,ue=Te("IconBtn"),Ce=je,xe=we,Se=mt;return p(),A("div",null,[t(oe,{title:"Filtres",class:"mb-6 d-print-none"},{default:l(()=>[t(ae,null,{default:l(()=>[t(q,null,{default:l(()=>[t(E,{cols:"12",sm:"2"},{default:l(()=>[t(Q,{modelValue:e(g),"onUpdate:modelValue":u[0]||(u[0]=c=>I(g)?g.value=c:null),placeholder:"Statut"},null,8,["modelValue"])]),_:1}),t(E,{cols:"12",sm:"2"},{default:l(()=>[t(Q,{modelValue:e(S),"onUpdate:modelValue":u[1]||(u[1]=c=>I(S)?S.value=c:null),placeholder:"Code"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(re),a("div",pt,[t(Me),a("div",ct,[t(ke,{modelValue:e(y),"onUpdate:modelValue":u[2]||(u[2]=c=>I(y)?y.value=c:null),items:[5,10,20,25,50]},null,8,["modelValue"]),e(G)("create","retour")?(p(),k(P,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:u[3]||(u[3]=c=>e(s).push({name:"retour-add"}))},{default:l(()=>u[11]||(u[11]=[x(" Ajouter Retour ")])),_:1})):$("",!0)])]),t(re,{class:"mt-4"}),t(Fe,{"items-per-page":e(y),"onUpdate:itemsPerPage":u[5]||(u[5]=c=>I(y)?y.value=c:null),page:e(_),"onUpdate:page":u[6]||(u[6]=c=>I(_)?_.value=c:null),loading:e(m),headers:j,items:e(f),"items-length":e(r),class:"text-no-wrap",locale:"fr","onUpdate:options":B},{"item.code":l(({item:c})=>[e(G)("show","retour")?(p(),k(P,{key:0,variant:"text",onClick:ie=>K(c)},{default:l(()=>[x(T(c.code),1)]),_:2},1032,["onClick"])):(p(),A("span",ft,T(c.code),1))]),"item.statut":l(({item:c})=>[t(Ee,ye(("statutInfos"in v?v.statutInfos:e(W))(c.statut),{density:"default",label:"",size:"small"}),null,16)]),"item.actions":l(({item:c})=>[c.statut=="EN_ATTENTE"&&e(G)("update","retour")?(p(),k(ue,{key:0,onClick:ie=>e(s).push("/retour/"+c.id)},{default:l(()=>[t(se,{icon:"tabler-edit"})]),_:2},1032,["onClick"])):$("",!0),c.statut=="EN_ATTENTE"?(p(),k(ue,{key:1},{default:l(()=>[t(se,{icon:"tabler-dots-vertical"}),t(ze,{activator:"parent"},{default:l(()=>[t(X,null,{default:l(()=>[e(G)("delete","retour")?(p(),k(Oe,{key:0,value:"delete","prepend-icon":"tabler-trash",onClick:ie=>z(c)},{default:l(()=>u[12]||(u[12]=[x(" Delete ")])),_:2},1032,["onClick"])):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)]),bottom:l(()=>[t(Ce,{page:e(_),"onUpdate:page":u[4]||(u[4]=c=>I(_)?_.value=c:null),"items-per-page":e(y),"total-items":e(r)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","loading","items","items-length"]),t(Re,{modelValue:e(w),"onUpdate:modelValue":u[9]||(u[9]=c=>I(w)?w.value=c:null),persistent:"",class:"v-dialog-sm"},{default:l(()=>[t(xe,{onClick:u[7]||(u[7]=c=>w.value=!e(w))}),t(oe,{title:"Êtes-vous sûr de vouloir supprimer le retour "+e(o).code+" ?"},{default:l(()=>[t(ae,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[t(P,{color:"secondary",variant:"tonal",onClick:u[8]||(u[8]=c=>w.value=!1)},{default:l(()=>u[13]||(u[13]=[x(" Non ")])),_:1}),t(P,{loading:e(R),onClick:H},{default:l(()=>u[14]||(u[14]=[x(" Oui ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1}),e(i)?(p(),k(Se,{id:e(L),key:e(D),"is-show-item":e(i),"onUpdate:isShowItem":u[10]||(u[10]=c=>I(i)?i.value=c:null),onFetchItems:e(b)},null,8,["id","is-show-item","onFetchItems"])):$("",!0)])}}};export{Wt as default};
