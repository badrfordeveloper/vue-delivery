import{V as A,_ as F,$ as P}from"./VForm-E0cdFEXy.js";import{an as B,o as h,c as V,F as D,h as S,b as t,e as o,$ as q,m as a,a2 as L,aq as N,r as p,d as s,v as k,t as f,a1 as E,i as M,j as U,H as g,ar as b,as as z}from"./index-Bs2RNO2c.js";import{u as y,m as H,a as G}from"./misc-mask-light-CZ-Ec9AS.js";import{V as K}from"./VNodeRenderer-CyTptpjJ.js";import{a as d,V as w}from"./VRow-DQmbGlZu.js";import{V as W}from"./VImg-ChlwgMlx.js";import{V as Y}from"./VCard-DGGXX4Kw.js";import{V as I}from"./VCardText-paiP_Zt_.js";import{V as J}from"./VCheckbox-DeO5V_mB.js";import{V as C}from"./VDivider-aTOdqVjr.js";import"./VTextField-u0xzw2dW.js";import"./forwardRefs-DWGaNmQL.js";import"./toast-BdFwRg9f.js";/* empty css              */import"./VAvatar-B0jp4-Bf.js";const O={class:"d-flex justify-center flex-wrap gap-1"},Q={__name:"AuthProvider",setup(j){const{global:u}=B(),m=[{icon:"tabler-brand-facebook-filled",color:"#4267b2",colorInDark:"#497CE2"},{icon:"tabler-brand-twitter-filled",color:"#1da1f2",colorInDark:"#1da1f2"},{icon:"tabler-brand-github-filled",color:"#272727",colorInDark:"#fff"},{icon:"tabler-brand-google-filled",color:"#dd4b39",colorInDark:"#db4437"}];return(v,_)=>(h(),V("div",O,[(h(),V(D,null,S(m,i=>t(L,{key:i.icon,icon:"",variant:"text",size:"small",color:a(u).name.value==="dark"?i.colorInDark:i.color},{default:o(()=>[t(q,{size:"20",icon:i.icon},null,8,["icon"])]),_:2},1032,["color"])),64))]))}},X="/assets/auth-v2-login-illustration-bordered-dark-cDkPk8mY.png",Z="/assets/auth-v2-login-illustration-bordered-light-CIHqcIVA.png",ee="/assets/auth-v2-login-illustration-dark-ClExSVqL.png",te="/assets/auth-v2-login-illustration-light-C4sKfRS1.png",ae=()=>N(),oe={href:"javascript:void(0)"},se={class:"auth-logo d-flex align-center gap-x-3"},le={class:"auth-title"},re={class:"position-relative bg-background w-100 me-0"},ne={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},ie=["src"],de={class:"text-h4 mb-1"},ue={class:"text-capitalize"},ce={class:"d-flex align-center flex-wrap justify-space-between my-6"},De={__name:"login",setup(j){const u=p(!1),m=y(te,ee,Z,X,!0),v=y(G,H),_=ae(),i=M(),T=U(),r=p({email:"admin@gmail.com",password:"admin@gmail.com",remember:!1}),x=p(),R=async()=>{try{P.post("/api/auth/login",{email:r.value.email,password:r.value.password}).then(async n=>{const{accessToken:e,userData:c,userAbilityRules:l}=n.data;b("userAbilityRules").value=l,_.update(l),b("userData").value=c,b("accessToken").value=e,await z(()=>{T.replace(i.query.to?String(i.query.to):"/")})}).catch(n=>{console.log("error login")})}catch(n){console.error(n)}},$=()=>{var n;(n=x.value)==null||n.validate().then(({valid:e})=>{e&&R()})};return(n,e)=>{const c=F;return h(),V(D,null,[s("a",oe,[s("div",se,[t(a(K),{nodes:a(g).app.logo},null,8,["nodes"]),s("h1",le,k(a(g).app.title),1)])]),t(w,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:o(()=>[t(d,{md:"8",class:"d-none d-md-flex"},{default:o(()=>[s("div",re,[s("div",ne,[t(W,{"max-width":"613",src:a(m),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),s("img",{class:"auth-footer-mask flip-in-rtl",src:a(v),alt:"auth-footer-mask",height:"280",width:"100"},null,8,ie)])]),_:1}),t(d,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:o(()=>[t(Y,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:o(()=>[t(I,null,{default:o(()=>[s("h4",de,[e[4]||(e[4]=f(" Welcome to ")),s("span",ue,k(a(g).app.title),1),e[5]||(e[5]=f("! 👋🏻 "))]),e[6]||(e[6]=s("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1))]),_:1}),t(I,null,{default:o(()=>[t(A,{ref_key:"refVForm",ref:x,onSubmit:E($,["prevent"])},{default:o(()=>[t(w,null,{default:o(()=>[t(d,{cols:"12"},{default:o(()=>[t(c,{modelValue:a(r).email,"onUpdate:modelValue":e[0]||(e[0]=l=>a(r).email=l),autofocus:"",label:"Email or Username",type:"email",placeholder:"johndoe@email.com"},null,8,["modelValue"])]),_:1}),t(d,{cols:"12"},{default:o(()=>[t(c,{modelValue:a(r).password,"onUpdate:modelValue":e[1]||(e[1]=l=>a(r).password=l),label:"Password",placeholder:"············",type:a(u)?"text":"password",autocomplete:"password","append-inner-icon":a(u)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=l=>u.value=!a(u))},null,8,["modelValue","type","append-inner-icon"]),s("div",ce,[t(J,{modelValue:a(r).remember,"onUpdate:modelValue":e[3]||(e[3]=l=>a(r).remember=l),label:"Remember me"},null,8,["modelValue"]),e[7]||(e[7]=s("a",{class:"text-primary",href:"javascript:void(0)"}," Forgot Password? ",-1))]),t(L,{block:"",type:"submit"},{default:o(()=>e[8]||(e[8]=[f(" Login ")])),_:1})]),_:1}),t(d,{cols:"12",class:"text-body-1 text-center"},{default:o(()=>e[9]||(e[9]=[s("span",{class:"d-inline-block"}," New on our platform? ",-1),s("a",{class:"text-primary ms-1 d-inline-block text-body-1",href:"javascript:void(0)"}," Create an account ",-1)])),_:1}),t(d,{cols:"12",class:"d-flex align-center"},{default:o(()=>[t(C),e[10]||(e[10]=s("span",{class:"mx-4"},"or",-1)),t(C)]),_:1}),t(d,{cols:"12",class:"text-center"},{default:o(()=>[t(Q)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{De as default};
